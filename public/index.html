<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description"
        content="Aether Logic is the premier Crypto-Gated AI Strategy Engine. Automate your workflow and generate VP-level strategy documents instantly using our verified AI pipeline.">
    <meta name="keywords"
        content="Aether Logic, AI Strategy, Career Security, Prompt Engineering, Crypto AI, Ethereum, Automated Workflow, Fintech UX">
    <meta name="author" content="Aether Logic">
    <meta name="theme-color" content="#030014">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aetherlogic.io/">
    <meta property="og:title" content="Aether Logic | Intelligence Strategy">
    <meta property="og:description"
        content="Transmute ambiguity into strategy with the world's first crypto-gated Logic Engine.">
    <meta property="og:image" content="https://aetherlogic.io/social-preview.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://aetherlogic.io/">
    <meta property="twitter:title" content="Aether Logic | Intelligence Strategy">
    <meta property="twitter:description"
        content="Hesitation is Financial Ruin. Upgrade your workflow with vetted AI logic.">
    <meta property="twitter:image" content="https://aetherlogic.io/social-preview.jpg">

    <title>Aether Logic | Intelligence Strategy</title>

    <!-- JSON-LD Structured Data for Google Rich Snippets -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Aether Logic",
      "applicationCategory": "ProductivityApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "49.00",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "ratingCount": "12503"
      },
      "description": "Crypto-gated AI Logic Engine for automated strategy generation."
    }
    </script>
    <link rel="icon" type="image/png" href="/favicon.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Chart.js (Analytics) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- DOMPurify (Security) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="canonical" href="https://masterprompt.io/" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    screens: {
                        'xs': '375px', // Targeted mobile optimization
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'shimmer': 'shimmer 2s linear infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'beam': 'beam 2s linear infinite',
                        'typewriter': 'blink 1s step-end infinite',
                        'slide-up': 'slideUp 0.5s ease-out forwards',
                    },
                    keyframes: {
                        shimmer: { from: { backgroundPosition: '0 0' }, to: { backgroundPosition: '-200% 0' } },
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
                        beam: { '0%': { transform: 'translateX(-100%)' }, '100%': { transform: 'translateX(100%)' } },
                        blink: { '0%, 100%': { opacity: '1' }, '50%': { opacity: '0' } },
                        slideUp: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } }
                    }
                }
            }
        }
    </script>

    <style>
        /* Exact same styles, optimized for mobile */
        body {
            background-color: #030014;
            color: #ffffff;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        .bg-noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 1;
        }

        .text-gradient-primary {
            background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .text-gradient-alert {
            background: linear-gradient(135deg, #f87171 0%, #fca5a5 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Mobile Performance: Use will-change for heavy animations */
        .animate-pulse-slow,
        .animate-beam {
            will-change: transform, opacity;
        }

        .hud-card {
            background: rgba(13, 14, 28, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .dash-panel {
            background: rgba(19, 21, 36, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
        }

        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #0b0c16;
        }

        ::-webkit-scrollbar-thumb {
            background: #2d3748;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #4f46e5;
        }

        .cursor-blink::after {
            content: '|';
            animation: blink 1s step-end infinite;
        }

        .sidebar-item-active {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.05);
        }

        /* Output Tab Active Styles */
        .output-tab-active {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(139, 92, 246, 0.15) 100%);
            color: white;
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.2);
        }

        /* === OUTPUT DASHBOARD UX REDESIGN === */

        /* Glass Panel - Unified card style */
        .glass-panel {
            background: rgba(15, 17, 26, 0.7);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .glass-panel:hover {
            border-color: rgba(99, 102, 241, 0.2);
            box-shadow: 0 8px 32px rgba(99, 102, 241, 0.08);
        }

        /* Hero Metric - Gradient text */
        .hero-metric {
            font-size: 4rem;
            font-weight: 800;
            line-height: 1;
            background: linear-gradient(135deg, #6366f1, #8b5cf6, #06b6d4);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Section Header - Unified */
        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
            margin-bottom: 20px;
        }

        .section-header h3 {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.5);
        }

        .section-header i {
            font-size: 16px;
        }

        /* Collapsible Section */
        .collapsible-section .section-content {
            max-height: 1000px;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease;
            opacity: 1;
        }

        .collapsible-section.collapsed .section-content {
            max-height: 0;
            opacity: 0;
        }

        .collapsible-section .collapse-icon {
            transition: transform 0.3s ease;
        }

        .collapsible-section.collapsed .collapse-icon {
            transform: rotate(-90deg);
        }

        /* Meta Bar */
        .meta-bar {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 11px;
        }

        .meta-item .label {
            color: rgba(255, 255, 255, 0.4);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .meta-item .value {
            color: white;
            font-weight: 600;
        }

        /* Progress Ring */
        .progress-ring {
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        .progress-ring__circle {
            stroke-linecap: round;
            transition: stroke-dashoffset 0.5s ease;
        }

        /* Confidence Dots */
        .confidence-dots {
            display: flex;
            gap: 4px;
        }

        .confidence-dots .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .confidence-dots .dot.active {
            background: linear-gradient(135deg, #10b981, #06b6d4);
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.5);
        }

        /* Sticky TOC */
        .sticky-toc {
            position: sticky;
            top: 24px;
        }

        .sticky-toc a {
            display: block;
            padding: 8px 12px;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.4);
            border-left: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
        }

        .sticky-toc a:hover {
            color: rgba(255, 255, 255, 0.8);
            border-left-color: rgba(99, 102, 241, 0.5);
        }

        .sticky-toc a.active {
            color: white;
            border-left-color: #6366f1;
            background: rgba(99, 102, 241, 0.1);
        }

        /* KPI Supporting Card */
        .kpi-supporting {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 16px;
            min-height: 100px;
            text-align: center;
        }

        .kpi-supporting .value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .kpi-supporting .label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.4);
        }

        .kpi-supporting .trend {
            font-size: 9px;
            margin-top: 4px;
        }

        /* Visual Risk Bar */
        .risk-bar {
            display: flex;
            gap: 2px;
            margin-top: 8px;
        }

        .risk-bar .segment {
            height: 4px;
            flex: 1;
            border-radius: 2px;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .risk-bar .segment.active {
            background: linear-gradient(90deg, #22c55e, #eab308, #ef4444);
        }

        /* Animated underline for tabs */
        .tab-underline {
            position: absolute;
            bottom: 0;
            height: 2px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            transition: all 0.3s ease;
            border-radius: 1px;
        }



        .toggle-checkbox:checked {
            right: 0;
            border-color: #68D391;
        }

        .toggle-checkbox:checked+.toggle-label {
            background-color: #68D391;
        }

        .prose h1,
        .prose h2,
        .prose h3 {
            margin-bottom: 0.5em;
            color: white;
            font-weight: 700;
            margin-top: 1em;
        }

        .prose p {
            margin-bottom: 1em;
            color: #9ca3af;
            font-size: 0.875rem;
        }

        .prose strong {
            color: white;
        }

        .prose ul {
            list-style: disc;
            margin-left: 1.5em;
            margin-bottom: 1em;
            color: #9ca3af;
        }

        .btn-primary {
            background: linear-gradient(110deg, #312e81 45%, #4f46e5 55%, #312e81);
            background-size: 200% 100%;
            animation: shimmer 3s linear infinite;
            border: 1px solid #6366f1;
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.4);
        }

        .btn-shiny {
            position: relative;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            transition: all 0.3s;
        }

        .btn-shiny::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(115deg, transparent, rgba(99, 102, 241, 0.4), transparent);
            transition: 0.5s;
        }

        .btn-shiny:hover::before {
            left: 100%;
        }

        .btn-shiny:hover {
            border-color: rgba(99, 102, 241, 0.5);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
        }

        .scanlines {
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.2));
            background-size: 100% 4px;
        }

        .flow-line {
            height: 2px;
            background: linear-gradient(90deg, #1f2937 0%, #4f46e5 50%, #1f2937 100%);
            position: relative;
            overflow: hidden;
        }

        .flow-beam {
            position: absolute;
            top: 0;
            left: 0;
            width: 40%;
            height: 100%;
            background: linear-gradient(90deg, transparent, #818cf8, transparent);
            animation: beam 1.5s linear infinite;
        }
    </style>
</head>

<body class="font-sans antialiased selection:bg-indigo-500/30 selection:text-indigo-200">

    <!-- Noise Texture -->
    <div class="bg-noise"></div>

    <!-- Background Orbs (Global) -->
    <div class="fixed inset-0 z-0 overflow-hidden pointer-events-none">
        <div
            class="absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-indigo-900/30 rounded-full blur-[120px] mix-blend-screen animate-pulse-slow">
        </div>
        <div
            class="absolute bottom-[-10%] right-[10%] w-[600px] h-[600px] bg-purple-900/20 rounded-full blur-[120px] mix-blend-screen">
        </div>
    </div>

    <!-- ========================================== -->
    <!-- LANDING PAGE WRAPPER                       -->
    <!-- ========================================== -->
    <main id="landing-page" class="transition-opacity duration-500">

        <!-- ALERT BANNER -->
        <div class="relative z-50 bg-red-950/30 backdrop-blur-md border-b border-red-500/20 text-center py-3">
            <div
                class="flex items-center justify-center gap-3 text-xs md:text-sm font-mono tracking-wide text-red-200 px-4">
                <span class="flex h-2 w-2 relative flex-shrink-0">
                    <span
                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
                </span>
                <span class="truncate">GATE CLOSING: PRICE SPIKE IN <span id="countdown"
                        class="text-white font-bold">04:12:33</span></span>
            </div>
        </div>

        <!-- NAV -->
        <nav class="sticky top-6 z-40 mx-auto max-w-6xl px-4">
            <div class="hud-card rounded-full px-6 py-3 flex justify-between items-center relative">
                <a href="#" class="flex items-center gap-2 hover:opacity-80 transition" aria-label="Aether Logic Home">
                    <img src="/logo.png" alt="Aether Logic" class="w-8 h-8 rounded-lg border border-indigo-500/20">
                    <span class="font-bold text-lg tracking-tight text-white font-mono">AETHER LOGIC</span>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-4">
                    <!-- Admin Button (Hidden by default, shown for admin wallet) -->
                    <button id="nav-admin-btn"
                        class="hidden text-xs font-bold text-purple-400 hover:text-white uppercase tracking-widest transition flex items-center gap-2 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-2 rounded-lg border border-purple-500/20">
                        <i class="ph-fill ph-chart-pie-slice"></i> Admin
                    </button>

                    <!-- Dashboard Button (Hidden by default, shown after purchase) -->
                    <button id="nav-dashboard-btn"
                        class="hidden text-xs font-bold text-indigo-400 hover:text-white uppercase tracking-widest transition flex items-center gap-2 bg-indigo-500/10 hover:bg-indigo-500/20 px-3 py-2 rounded-lg border border-indigo-500/20">
                        <i class="ph-fill ph-circles-four"></i> Dashboard
                    </button>
                </div>

                <!-- Connect Wallet Button -->
                <button id="btn-connect-wallet"
                    class="bg-white/10 hover:bg-white/20 text-white text-xs font-bold py-2 px-4 rounded-lg transition border border-white/10 flex items-center gap-2">
                    <i class="ph-bold ph-wallet"></i>
                    <span id="walletAddress">CONNECT WALLET</span>
                </button>
            </div>
        </nav>

        <!-- HERO SECTION -->
        <section class="pt-28 pb-24 relative z-10">
            <div class="max-w-4xl mx-auto px-4 text-center">

                <div
                    class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-red-500/5 border border-red-500/20 text-red-300 text-[10px] md:text-xs font-mono mb-10 tracking-wider uppercase">
                    <i class="ph-fill ph-warning-octagon"></i>
                    FOMO_METRIC: 8,421 Designers automated their workflow today
                </div>

                <h1 class="text-5xl md:text-8xl font-bold tracking-tighter mb-8 leading-[1] text-white">
                    Hesitation is <br>
                    <span class="text-gradient-alert">Financial Ruin.</span>
                </h1>

                <p class="text-lg md:text-xl text-gray-400 mb-12 max-w-2xl mx-auto leading-relaxed font-light">
                    Others are scaling their rates with AI while you manually push pixels. Every minute
                    you wait is
                    <strong class="text-white font-semibold">money transferred from your pocket to
                        theirs</strong>.
                </p>

                <div class="flex flex-col sm:flex-row gap-5 justify-center items-center">
                    <button onclick="document.getElementById('mint').scrollIntoView({behavior: 'smooth'})"
                        class="btn-primary px-8 py-4 rounded-xl text-white font-bold text-lg flex items-center gap-3 group">
                        Stop Losing Money
                        <i class="ph-bold ph-arrow-right group-hover:translate-x-1 transition-transform"></i>
                    </button>
                    <div class="flex items-center gap-2 text-xs text-gray-400 font-mono">
                        <i class="ph-fill ph-check-circle text-green-500"></i>
                        <span>Verified logic v8.0</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- TICKER (Social Proof) -->
        <div class="border-y border-white/5 bg-black/40 overflow-hidden py-3">
            <div
                class="flex gap-16 animate-[beam_20s_linear_infinite] whitespace-nowrap opacity-60 font-mono text-xs text-red-300/80">
                <span>⚠ DATA_LEAK: 93% OF 'BYSTANDERS' REGRET NOT UPGRADING</span>
                <span>⚠ MARKET_ALERT: AI ADOPTION GAP WIDENING</span>
                <span>⚠ DATA_LEAK: 93% OF 'BYSTANDERS' REGRET NOT UPGRADING</span>
                <span>⚠ MARKET_ALERT: AI ADOPTION GAP WIDENING</span>
            </div>
        </div>

        <!-- THE PIPELINE -->
        <section id="protocol" class="py-32 relative z-10">
            <div class="max-w-7xl mx-auto px-4">
                <div class="text-center mb-20">
                    <h2 class="text-3xl font-bold text-white mb-2">The Logic Pipeline</h2>
                    <p class="text-gray-400 font-mono text-xs uppercase tracking-widest">Transmuting
                        Ambiguity into
                        Strategy</p>
                </div>

                <!-- Logic Hook: Input Section Wrapper -->
                <div class="input-section max-w-2xl mx-auto mb-20 relative group">
                    <!-- Decorative Glow -->
                    <div
                        class="absolute -inset-0.5 bg-gradient-to-r from-indigo-500/20 via-purple-500/20 to-pink-500/20 rounded-xl blur opacity-50 transition duration-1000 group-hover:opacity-75 group-hover:duration-200">
                    </div>

                    <div class="relative bg-[#050508] border border-white/10 rounded-xl p-1 backdrop-blur-xl">
                        <!-- Corner Accents -->
                        <div class="absolute top-0 left-0 w-3 h-3 border-t border-l border-indigo-500 rounded-tl-lg">
                        </div>
                        <div class="absolute top-0 right-0 w-3 h-3 border-t border-r border-purple-500 rounded-tr-lg">
                        </div>
                        <div class="absolute bottom-0 left-0 w-3 h-3 border-b border-l border-purple-500 rounded-bl-lg">
                        </div>
                        <div
                            class="absolute bottom-0 right-0 w-3 h-3 border-b border-r border-indigo-500 rounded-br-lg">
                        </div>

                        <div class="bg-[#0a0a0f]/80 rounded-lg p-6">
                            <label
                                class="flex items-center gap-2 text-xs font-mono text-indigo-400 mb-4 tracking-widest uppercase">
                                <i class="ph-bold ph-terminal-window text-lg"></i>
                                Define_Target_Obstacle
                            </label>

                            <!-- Logic Hook: problemInput ID -->
                            <textarea id="problemInput" rows="5"
                                class="w-full bg-black/40 border border-white/5 rounded-lg p-4 text-white placeholder-gray-600 focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all font-mono leading-relaxed resize-none text-base"
                                placeholder="// Enter your challenge here...&#10;> e.g. 'Automate my client reporting flow'&#10;> or 'Design a fintech onboarding UX'"></textarea>

                            <div class="mt-4 flex justify-between items-center">
                                <p class="text-[10px] text-gray-400 font-mono">
                                    <span class="text-indigo-500">*</span> INPUT_VECTOR_READY // AWAITING_PAYMENT
                                </p>
                                <div class="flex gap-1.5 opacity-50">
                                    <div class="w-1 h-1 bg-indigo-500 rounded-full animate-pulse"></div>
                                    <div class="w-1 h-1 bg-indigo-500 rounded-full animate-pulse delay-75"></div>
                                    <div class="w-1 h-1 bg-indigo-500 rounded-full animate-pulse delay-150"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="relative grid md:grid-cols-[1fr,auto,1fr,auto,1fr] gap-4 items-center max-w-6xl mx-auto">
                    <!-- Stage 1: Input -->
                    <div class="group">
                        <div
                            class="hud-card p-6 rounded-2xl border-l-4 border-l-gray-600 hover:border-l-indigo-500 transition-all duration-300">
                            <div class="flex justify-between items-start mb-4">
                                <i
                                    class="ph-duotone ph-keyboard text-2xl text-gray-400 group-hover:text-indigo-400"></i>
                                <span class="font-mono text-[10px] text-gray-600">RAW_INPUT</span>
                            </div>
                            <h3 class="text-lg font-bold text-white mb-2">Vague Request</h3>
                            <div
                                class="bg-black/50 p-2 rounded text-[10px] font-mono text-gray-400 border border-white/5 truncate">
                                "Design a fintech app..."
                            </div>
                        </div>
                    </div>
                    <!-- Connector 1 -->
                    <div class="hidden md:flex flex-col items-center justify-center w-24">
                        <div class="flow-line w-full mb-1">
                            <div class="flow-beam"></div>
                        </div>
                        <span class="text-[10px] font-mono text-indigo-500/50">INJECT</span>
                    </div>
                    <!-- Stage 2: The Core -->
                    <div class="relative z-10 group">
                        <div
                            class="absolute inset-0 bg-indigo-600/20 blur-xl rounded-full animate-pulse-slow group-hover:bg-indigo-600/40 transition">
                        </div>
                        <div
                            class="hud-card p-8 rounded-2xl text-center border-indigo-500/30 group-hover:border-indigo-500 group-hover:scale-105 transition-all duration-300 relative bg-[#0a0b14]">
                            <div
                                class="w-16 h-16 mx-auto bg-indigo-500/10 rounded-xl flex items-center justify-center border border-indigo-500/20 mb-4 group-hover:rotate-180 transition duration-700">
                                <i class="ph-fill ph-cpu text-3xl text-indigo-400"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-1">Logic Engine v8</h3>
                            <p class="text-xs text-indigo-300 font-mono">SIMULATION & ROI</p>
                        </div>
                    </div>
                    <!-- Connector 2 -->
                    <div class="hidden md:flex flex-col items-center justify-center w-24">
                        <div class="flow-line w-full mb-1">
                            <div class="flow-beam" style="animation-delay: 0.75s"></div>
                        </div>
                        <span class="text-[10px] font-mono text-green-500/50">EXTRACT</span>
                    </div>
                    <!-- Stage 3: Output -->
                    <div class="group">
                        <div
                            class="hud-card p-6 rounded-2xl border-l-4 border-l-gray-600 hover:border-l-green-500 transition-all duration-300">
                            <div class="flex justify-between items-start mb-4">
                                <i
                                    class="ph-duotone ph-file-code text-2xl text-gray-400 group-hover:text-green-400"></i>
                                <span class="font-mono text-[10px] text-gray-600">STRATEGY_DOC</span>
                            </div>
                            <h3 class="text-lg font-bold text-white mb-2">VP-Level Asset</h3>
                            <div class="space-y-1">
                                <div class="h-1.5 w-full bg-green-500/20 rounded-full"></div>
                                <div class="h-1.5 w-2/3 bg-green-500/20 rounded-full"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PRICING -->
        <section id="mint" class="py-24 relative z-10">
            <div class="max-w-7xl mx-auto px-4">
                <div class="text-center mb-20">
                    <h2 class="text-4xl font-bold text-white mb-4">Select Your Role</h2>
                    <p class="text-gray-400 font-mono text-sm">NPC or Protagonist?</p>
                </div>

                <div class="grid lg:grid-cols-3 gap-6 items-center max-w-6xl mx-auto">

                    <!-- TIER 1 -->
                    <div
                        class="hud-card rounded-3xl p-8 relative overflow-hidden group hover:opacity-100 opacity-60 transition-all duration-500 border-gray-800 hover:border-red-900/50">
                        <div class="absolute inset-0 scanlines pointer-events-none opacity-20"></div>
                        <div class="flex justify-between items-start mb-8">
                            <div>
                                <h3 class="text-lg font-mono text-gray-400 group-hover:text-red-400 transition">
                                    NODE_BYSTANDER</h3>
                                <div class="text-[10px] text-gray-600 font-mono mt-1">RESTRICTED ACCESS
                                </div>
                            </div>
                            <i class="ph-bold ph-eye-slash text-gray-700 text-xl"></i>
                        </div>
                        <div class="mb-8 filter grayscale group-hover:grayscale-0 transition">
                            <span class="text-4xl font-bold text-gray-400 group-hover:text-white">$19</span>
                            <!-- Logic Hook: Price ID -->
                            <div class="text-xs text-indigo-400 mt-1" id="eth-standard">~ETH</div>
                        </div>
                        <ul class="space-y-4 mb-8 text-sm font-mono border-t border-gray-800 pt-8">
                            <li class="flex gap-3 text-gray-600"><span class="text-gray-700">✓</span>
                                Static Text File
                            </li>
                            <li class="flex gap-3 text-red-900 group-hover:text-red-500 transition"><i
                                    class="ph-bold ph-warning"></i> 24h Data Delay</li>
                            <li class="flex gap-3 text-gray-700 decoration-line-through decoration-gray-700">
                                Logic
                                Engine</li>
                        </ul>
                        <!-- Logic Hook: payAndSolve -->
                        <button id="btn-pay-standard"
                            class="pay-btn w-full py-4 border border-gray-800 bg-gray-900/50 text-gray-600 font-mono text-xs hover:bg-gray-800 hover:text-gray-400 transition uppercase tracking-widest rounded-xl">
                            Accept Limitations
                        </button>
                    </div>

                    <!-- TIER 2: INSIDER -->
                    <div class="relative z-20 transform md:scale-110">
                        <div class="absolute inset-0 bg-indigo-600/20 blur-2xl animate-pulse-slow">
                        </div>
                        <div
                            class="hud-card rounded-3xl p-1 bg-gradient-to-b from-indigo-500 to-purple-900 h-full relative">
                            <div class="bg-[#0b0c16] rounded-[22px] p-8 h-full relative overflow-hidden">
                                <div class="flex justify-between items-start mb-2">
                                    <div>
                                        <h3 class="text-xl font-bold text-white flex items-center gap-2">
                                            <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                                            INSIDER NODE
                                        </h3>
                                        <div class="text-[10px] text-indigo-400 font-mono mt-1">LIVE
                                            FEED • V8.0 ENGINE
                                        </div>
                                    </div>
                                    <div
                                        class="bg-indigo-500/20 border border-indigo-500/50 px-2 py-1 rounded text-[10px] font-bold text-indigo-300">
                                        GENESIS
                                    </div>
                                </div>
                                <div class="my-8">
                                    <div class="flex items-baseline gap-2">
                                        <span class="text-6xl font-bold text-white text-shadow-glow">$49</span>
                                        <span class="text-lg text-gray-600 line-through">$149</span>
                                    </div>
                                    <div class="text-xs text-indigo-400 mt-1" id="eth-medium">~ETH</div>
                                    <div
                                        class="inline-flex items-center gap-1.5 mt-2 text-[10px] font-bold text-red-400 bg-red-950/30 px-2 py-1 rounded border border-red-900/50 animate-pulse">
                                        <i class="ph-fill ph-fire"></i> 3 SPOTS REMAINING
                                    </div>
                                </div>
                                <div
                                    class="space-y-4 mb-8 text-sm font-medium text-gray-300 border-t border-indigo-500/20 pt-8">
                                    <div class="flex items-center gap-3">
                                        <div
                                            class="w-5 h-5 rounded bg-indigo-500/20 flex items-center justify-center text-indigo-400">
                                            <i class="ph-bold ph-lightning"></i>
                                        </div>
                                        <span class="text-white">Real-Time Strategy Alpha</span>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <div
                                            class="w-5 h-5 rounded bg-indigo-500/20 flex items-center justify-center text-indigo-400">
                                            <i class="ph-bold ph-cpu"></i>
                                        </div>
                                        <span>Logic Engine v8.0 Access</span>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <div
                                            class="w-5 h-5 rounded bg-indigo-500/20 flex items-center justify-center text-indigo-400">
                                            <i class="ph-bold ph-figma-logo"></i>
                                        </div>
                                        <span>Figma Auto-Generator</span>
                                    </div>
                                </div>
                                <!-- Logic Hook: payAndSolve -->
                                <button id="btn-pay-medium"
                                    class="pay-btn btn-primary w-full py-4 rounded-xl font-bold text-white shadow-lg text-sm uppercase tracking-wider hover:scale-[1.02] transition-transform">
                                    Mint Insider Access
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- TIER 3 -->
                    <div
                        class="hud-card rounded-3xl p-8 relative overflow-hidden group hover:border-purple-500/50 transition-all duration-300">
                        <div class="flex justify-between items-start mb-8">
                            <div>
                                <h3 class="text-lg font-mono text-purple-400">SYNDICATE</h3>
                                <div class="text-[10px] text-gray-400 font-mono mt-1">MULTI-SIG LICENSE
                                </div>
                            </div>
                            <i
                                class="ph-duotone ph-crown text-purple-700 text-2xl group-hover:text-purple-400 transition"></i>
                        </div>
                        <div class="mb-8">
                            <span class="text-4xl font-bold text-white">$199</span>
                            <div class="text-xs text-indigo-400 mt-1" id="eth-full">~ETH</div>
                        </div>
                        <ul class="space-y-4 mb-8 text-sm text-gray-400 font-mono border-t border-gray-800 pt-8">
                            <li class="flex gap-3"><span class="text-purple-500">✓</span> Everything in
                                Insider</li>
                            <li class="flex gap-3"><span class="text-purple-500">✓</span> 10 Wallet
                                Seats</li>
                            <li class="flex gap-3"><span class="text-purple-500">✓</span> Priority RPC
                            </li>
                        </ul>
                        <!-- Logic Hook: payAndSolve -->
                        <button id="btn-pay-full"
                            class="pay-btn btn-shiny w-full py-4 rounded-xl font-mono text-xs text-purple-200 uppercase tracking-widest hover:text-white">
                            Join Syndicate
                        </button>
                    </div>

                </div>
            </div>
        </section>

        <!-- PROCESSING MODAL -->
        <div id="loadingOverlay"
            class="fixed inset-0 bg-black/90 backdrop-blur-xl z-[100] hidden items-center justify-center p-4">
            <!-- CONNECT WALLET MODAL -->
            <div id="connectWalletModal"
                class="hud-card p-1 bg-gradient-to-br from-indigo-500/20 to-purple-900/20 rounded-3xl max-w-sm w-full text-center hidden relative overflow-hidden">
                <div class="bg-[#0b0c16] rounded-[22px] p-8 md:p-10 relative">
                    <!-- Icon -->
                    <div
                        class="w-16 h-16 bg-indigo-500/10 border border-indigo-500/20 rounded-2xl flex items-center justify-center text-indigo-400 mx-auto mb-6 shadow-[0_0_20px_rgba(99,102,241,0.2)]">
                        <i class="ph-duotone ph-wallet text-3xl"></i>
                    </div>

                    <h3 class="text-xl font-bold text-white mb-3">Identity Verification</h3>
                    <p class="text-gray-400 text-xs mb-8 font-mono leading-relaxed">
                        Accessing the Logic Engine requires a cryptographic handshake. Connect your wallet to establish
                        a secure payment channel.
                    </p>

                    <button id="btn-modal-connect"
                        class="w-full py-4 bg-white text-black rounded-xl font-bold hover:bg-indigo-50 transition shadow-lg font-mono text-xs uppercase tracking-widest mb-3 flex items-center justify-center gap-2">
                        <i class="ph-bold ph-plug"></i> Initialize Session
                    </button>

                    <button onclick="hideConnectModal()"
                        class="text-[10px] text-gray-400 hover:text-white uppercase tracking-widest font-mono transition">
                        Dismiss
                    </button>
                </div>
            </div>

            <!-- LOADING -->
            <div id="loadingState"
                class="hud-card p-12 rounded-3xl max-w-sm w-full text-center relative overflow-hidden">
                <div class="font-mono text-[10px] text-indigo-400 mb-6 tracking-widest" id="loadingTitle">ESTABLISHING
                    CONNECTION...</div>
                <div class="relative w-20 h-20 mx-auto mb-8">
                    <div class="absolute inset-0 border-4 border-indigo-500/20 rounded-full"></div>
                    <div
                        class="absolute inset-0 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin">
                    </div>
                </div>
                <!-- Logic Hook: IDs for updates -->
                <p class="text-gray-400 text-xs font-mono" id="loadingStatus">Verifying wallet
                    liquidity...</p>
                <div id="loadingTxHash" class="mt-4 text-[10px] text-gray-400 font-mono"></div>
                <!-- Hidden Elements for Logic Compatibility -->
                <div id="loadingRecipient" class="hidden"></div>
            </div>

            <!-- SUCCESS -->
            <div id="successState"
                class="hud-card p-1 bg-gradient-to-br from-green-500/20 to-emerald-900/20 rounded-3xl max-w-md w-full text-center hidden relative overflow-hidden">
                <div class="bg-[#0b0c16] rounded-[20px] p-10">
                    <div
                        class="w-20 h-20 bg-green-500/10 border border-green-500/20 rounded-full flex items-center justify-center text-green-400 mx-auto mb-8 shadow-[0_0_30px_rgba(74,222,128,0.2)]">
                        <i class="ph-fill ph-check text-4xl"></i>
                    </div>

                    <h3 class="text-2xl font-bold text-white mb-2">Access Granted.</h3>
                    <p class="text-gray-400 text-xs mb-8 font-mono">Token #8821 minted to your local
                        session.</p>

                    <!-- Logic Hook: enterDashboard call -->
                    <button id="btn-enter-dashboard"
                        class="w-full py-4 bg-white text-black rounded-xl font-bold hover:bg-gray-200 transition shadow-lg font-mono text-xs uppercase tracking-widest">
                        Enter Dashboard
                    </button>
                </div>
            </div>
        </div>

    </main>

    <!-- LEGAL FOOTER -->
    <footer class="py-8 border-t border-white/5 bg-black/40 relative z-10">
        <div class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="text-[10px] text-gray-600 font-mono">
                &copy; 2025 Aether Logic. Decentralized Intelligence.
            </div>
            <div class="flex gap-6">
                <a href="#" class="text-[10px] text-gray-400 hover:text-white transition font-mono">TERMS_OF_SERVICE</a>
                <a href="#" class="text-[10px] text-gray-400 hover:text-white transition font-mono">PRIVACY_POLICY</a>
            </div>
        </div>
    </footer>

    <!-- ========================================== -->
    <!-- DASHBOARD APP (HIDDEN BY DEFAULT)          -->
    <!-- ========================================== -->
    <main id="app-dashboard"
        class="hidden h-screen w-full bg-[#030014] fixed inset-0 overflow-hidden transition-all duration-500 z-[60]">

        <!-- Ambient Background for Dashboard -->
        <div class="fixed inset-0 pointer-events-none">
            <div
                class="absolute top-[-20%] left-[-10%] w-[70vw] h-[70vw] bg-indigo-900/10 rounded-full blur-[150px] mix-blend-screen animate-pulse-slow">
            </div>
            <div
                class="absolute bottom-[-20%] right-[-10%] w-[60vw] h-[60vw] bg-purple-900/10 rounded-full blur-[150px] mix-blend-screen">
            </div>
        </div>

        <div class="flex h-full w-full relative z-10">
            <!-- Sidebar: Premium Glass Rail -->
            <aside
                class="w-20 lg:w-72 flex-shrink-0 flex flex-col py-6 z-50 border-r border-white/5 bg-gradient-to-b from-[#0a0a1a]/90 to-[#030014]/95 backdrop-blur-2xl transition-all duration-300">

                <div class="px-4 lg:px-6 mb-8">
                    <a href="javascript:location.reload()" class="flex items-center gap-3 group">
                        <div
                            class="w-12 h-12 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/25 group-hover:shadow-indigo-500/40 transition-all duration-300 group-hover:scale-105">
                            <i class="ph-bold ph-strategy text-white text-xl"></i>
                        </div>
                        <div class="hidden lg:block">
                            <h2 class="text-white font-bold text-lg tracking-tight">Aether</h2>
                            <p class="text-[10px] text-indigo-300 font-mono -mt-0.5">INTELLIGENCE</p>
                        </div>
                    </a>
                </div>

                <!-- Navigation -->
                <nav class="flex-1 px-3 lg:px-4 space-y-2">
                    <p class="hidden lg:block text-[10px] font-mono text-gray-400 uppercase tracking-wider px-3 mb-4">
                        Main Menu</p>

                    <button onclick="switchView('dashboard')" id="nav-dashboard"
                        class="sidebar-item-active w-full flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-200 group relative overflow-hidden">
                        <div
                            class="absolute inset-0 bg-gradient-to-r from-indigo-500/20 to-purple-500/10 opacity-0 group-[.sidebar-item-active]:opacity-100 transition-opacity">
                        </div>
                        <div
                            class="w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center group-[.sidebar-item-active]:bg-indigo-500/20 transition-all">
                            <i
                                class="ph-fill ph-squares-four text-xl text-gray-400 group-[.sidebar-item-active]:text-indigo-400"></i>
                        </div>
                        <div class="hidden lg:block relative z-10">
                            <span
                                class="text-sm font-medium text-gray-300 group-[.sidebar-item-active]:text-white">Dashboard</span>
                            <p class="text-[10px] text-gray-400 group-[.sidebar-item-active]:text-indigo-300/70">
                                Overview & Results</p>
                        </div>
                        <div class="hidden lg:block ml-auto relative z-10">
                            <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                        </div>
                    </button>

                    <button onclick="switchView('analytics')" id="nav-analytics"
                        class="w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group relative">
                        <div
                            class="w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all">
                            <i class="ph-bold ph-chart-line-up text-xl"></i>
                        </div>
                        <div class="hidden lg:block">
                            <span class="text-sm font-medium">Analytics</span>
                            <p class="text-[10px] text-gray-400">Growth & Stats</p>
                        </div>
                        <span id="admin-badge"
                            class="hidden lg:flex ml-auto text-[9px] font-mono bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded-full border border-purple-500/30">ADMIN</span>
                    </button>

                    <button onclick="switchView('team')" id="nav-team"
                        class="w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group relative">
                        <div
                            class="w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all">
                            <i class="ph-bold ph-clock-counter-clockwise text-xl"></i>
                        </div>
                        <div class="hidden lg:block">
                            <span class="text-sm font-medium">History</span>
                            <p class="text-[10px] text-gray-400">Past Sessions</p>
                        </div>
                    </button>

                    <button onclick="switchView('output')" id="nav-output"
                        class="w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group relative">
                        <div
                            class="w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all">
                            <i class="ph-bold ph-file-doc text-xl"></i>
                        </div>
                        <div class="hidden lg:block">
                            <span class="text-sm font-medium">Output</span>
                            <p class="text-[10px] text-gray-400">Product Strategy</p>
                        </div>
                        <span
                            class="hidden lg:flex ml-auto text-[9px] font-mono bg-cyan-500/20 text-cyan-400 px-2 py-0.5 rounded-full border border-cyan-500/30">NEW</span>
                    </button>

                    <button onclick="switchView('settings')" id="nav-settings"
                        class="w-full flex items-center gap-4 px-4 py-3.5 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200 group relative">
                        <div
                            class="w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all">
                            <i class="ph-bold ph-gear text-xl"></i>
                        </div>
                        <div class="hidden lg:block">
                            <span class="text-sm font-medium">Settings</span>
                            <p class="text-[10px] text-gray-400">Preferences</p>
                        </div>
                    </button>
                </nav>

                <!-- Bottom Section -->
                <div class="mt-auto px-3 lg:px-4 space-y-3">
                    <!-- Tier Badge -->
                    <div
                        class="hidden lg:block p-4 rounded-xl bg-gradient-to-br from-indigo-500/10 via-purple-500/5 to-transparent border border-indigo-500/20">
                        <div class="flex items-center gap-3 mb-3">
                            <div
                                class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center">
                                <i class="ph-bold ph-crown text-white text-sm"></i>
                            </div>
                            <div>
                                <p class="text-xs font-medium text-white" id="sidebar-tier">Pro Tier</p>
                                <p class="text-[10px] text-indigo-400">Active Session</p>
                            </div>
                        </div>
                        <div class="h-1.5 bg-white/5 rounded-full overflow-hidden">
                            <div class="h-full w-3/4 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full"></div>
                        </div>
                    </div>

                    <!-- User Avatar -->
                    <div
                        class="flex items-center justify-center lg:justify-start gap-3 p-3 rounded-xl hover:bg-white/5 transition cursor-pointer group">
                        <div
                            class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 p-0.5">
                            <div class="w-full h-full rounded-full bg-[#030014] flex items-center justify-center">
                                <i class="ph-bold ph-wallet text-white text-sm"></i>
                            </div>
                        </div>
                        <div class="hidden lg:block flex-1 overflow-hidden">
                            <p class="text-xs font-medium text-white truncate" id="sidebar-wallet">Not Connected</p>
                            <p class="text-[10px] text-gray-400">Click to view</p>
                        </div>
                        <i
                            class="hidden lg:block ph-bold ph-caret-right text-gray-400 group-hover:text-white transition text-sm"></i>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area: Fluid Grid -->
            <div class="flex-1 flex flex-col h-full overflow-hidden">

                <!-- Top Bar: Floating Glass -->
                <header
                    class="h-20 flex-shrink-0 flex justify-between items-center px-8 border-b border-white/5 bg-[#030014]/20 backdrop-blur-sm">
                    <div>
                        <h1 class="text-xl font-bold text-white flex items-center gap-3 tracking-tight">
                            Strategic Dashboard
                            <span
                                class="text-[9px] font-mono bg-green-500/10 text-green-400 px-2 py-0.5 rounded border border-green-500/20 tracking-wider">LIVE_SESSION</span>
                        </h1>
                        <p class="text-[10px] text-gray-400 font-mono mt-0.5 flex gap-2">
                            <span id="tx-display">TX: INITIALIZING...</span>
                        </p>
                    </div>
                    <div class="flex gap-4">
                        <div
                            class="hud-card px-4 py-2 rounded-lg flex items-center gap-3 border border-white/5 bg-black/40">
                            <div class="flex gap-1 h-3 items-end">
                                <div class="w-1 h-2 bg-indigo-500/50 rounded-sm animate-pulse"></div>
                                <div class="w-1 h-3 bg-indigo-500 rounded-sm animate-pulse"
                                    style="animation-delay: 0.1s"></div>
                                <div class="w-1 h-1.5 bg-indigo-500/50 rounded-sm animate-pulse"
                                    style="animation-delay: 0.2s"></div>
                            </div>
                            <span class="text-[10px] font-mono text-gray-400" id="status-text">SYSTEM_OPTIMAL</span>
                        </div>
                    </div>
                </header>

                <!-- Scrollable Content -->
                <div class="flex-1 overflow-y-auto p-8 scroll-smooth">

                    <!-- VIEW: DASHBOARD (Bento Grid) -->
                    <div id="view-dashboard"
                        class="w-full grid grid-cols-1 md:grid-cols-12 gap-6 animate-slide-up pb-8">

                        <!-- ROW 1: METRICS & CONTEXT -->

                        <!-- 1. INPUT CONTEXT (Span 3) -->
                        <div
                            class="col-span-12 md:col-span-3 dash-panel p-5 flex flex-col h-64 relative group overflow-hidden">
                            <div
                                class="absolute inset-0 bg-gradient-to-b from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition duration-500">
                            </div>
                            <div class="flex justify-between items-start mb-4 relative z-10">
                                <h3
                                    class="text-[10px] font-mono text-gray-400 uppercase tracking-widest flex gap-2 items-center">
                                    <i class="ph-bold ph-terminal-window"></i> Vector
                                </h3>
                                <div class="flex gap-1">
                                    <button onclick="toggleInputView('input')" id="btn-input-view"
                                        class="w-1.5 h-1.5 rounded-full bg-indigo-400"></button>
                                    <button onclick="toggleInputView('history')" id="btn-history-view"
                                        class="w-1.5 h-1.5 rounded-full bg-gray-600 hover:bg-gray-400 transition"></button>
                                </div>
                            </div>

                            <!-- INPUT CONTENT -->
                            <div id="input-panel" class="flex-1 flex flex-col relative z-10">
                                <div class="flex-1 bg-black/20 rounded border border-white/5 p-3 text-xs text-gray-300 font-mono leading-relaxed overflow-y-auto"
                                    id="problem-display">
                                    Loading input vector...
                                </div>
                                <div class="mt-3 flex gap-2 flex-wrap">
                                    <span
                                        class="px-2 py-1 bg-white/5 rounded text-[9px] text-gray-400 border border-white/5">PRIORITY:
                                        HIGH</span>
                                    <span
                                        class="px-2 py-1 bg-white/5 rounded text-[9px] text-gray-400 border border-white/5">CAT:
                                        STRATEGY</span>
                                </div>
                            </div>

                            <!-- HISTORY CONTENT (Hidden) -->
                            <div id="history-panel" class="hidden flex-1 relative z-10 overflow-y-auto pr-1">
                                <div id="history-list" class="space-y-1.5"></div>
                            </div>
                        </div>

                        <!-- 2. DIAGNOSIS VISUALIZER (Span 5) -->
                        <div
                            class="col-span-12 md:col-span-5 dash-panel p-5 h-64 relative overflow-hidden flex flex-col">
                            <div class="absolute top-0 right-0 p-3 opacity-20">
                                <i class="ph-duotone ph-brain text-6xl text-indigo-500"></i>
                            </div>
                            <h3
                                class="text-[10px] font-mono text-gray-400 uppercase tracking-widest mb-4 flex gap-2 items-center">
                                <i class="ph-bold ph-activity"></i> Logic Engine v8.0
                            </h3>

                            <div class="flex-1 flex flex-col justify-center gap-6 relative z-10">
                                <div>
                                    <div class="flex justify-between text-xs mb-1.5">
                                        <span class="text-gray-400 font-mono">TRUST_DECAY_DETECTED</span>
                                        <span class="text-red-400 font-bold">CRITICAL</span>
                                    </div>
                                    <div
                                        class="w-full bg-gray-800/50 h-1.5 rounded-full overflow-hidden backdrop-blur-sm border border-white/5">
                                        <div class="bg-gradient-to-r from-red-600 to-red-400 h-full w-[0%] transition-all duration-1000"
                                            id="bar-risk"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex justify-between text-xs mb-1.5">
                                        <span class="text-gray-400 font-mono">STRATEGIC_AMBIGUITY</span>
                                        <span class="text-yellow-400 font-bold">RESOLVING...</span>
                                    </div>
                                    <div
                                        class="w-full bg-gray-800/50 h-1.5 rounded-full overflow-hidden backdrop-blur-sm border border-white/5">
                                        <div class="bg-gradient-to-r from-yellow-600 to-yellow-400 h-full w-[0%] transition-all duration-1000 delay-300"
                                            id="bar-ambiguity"></div>
                                    </div>
                                </div>

                                <div
                                    class="p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-lg flex items-center gap-3">
                                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                    <div>
                                        <div class="text-[10px] text-indigo-300 font-mono leading-tight">STATUS</div>
                                        <div class="text-xs text-white font-bold">Optimization Complete</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 3. ACTION / ROI (Span 4) -->
                        <div
                            class="col-span-12 md:col-span-4 dash-panel p-5 h-64 flex flex-col relative overflow-hidden">
                            <!-- Background Chart Bloom -->
                            <div
                                class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-green-500/10 to-transparent pointer-events-none">
                            </div>

                            <div class="flex justify-between items-start mb-2 relative z-10">
                                <h3 class="text-[10px] font-mono text-gray-400 uppercase tracking-widest">Projected
                                    Impact</h3>
                                <div class="bg-white/5 rounded-full p-1 flex">
                                    <button
                                        class="px-2 py-0.5 text-[9px] text-white bg-white/10 rounded-full">1M</button>
                                    <button
                                        class="px-2 py-0.5 text-[9px] text-gray-400 hover:text-white transition">1Y</button>
                                </div>
                            </div>

                            <div class="relative z-10">
                                <div class="text-4xl font-bold text-white tracking-tighter" id="roi-value">+$18.5k</div>
                                <div class="text-xs text-green-400 font-mono mt-1 flex items-center gap-1">
                                    <i class="ph-bold ph-trend-up"></i> 14% Efficiency Gain
                                </div>
                            </div>

                            <div class="flex-1 mt-4 relative z-10 min-h-0">
                                <canvas id="roiChart" class="w-full h-full"></canvas>
                            </div>
                        </div>


                        <!-- ROW 2: MAIN OUTPUT -->

                        <!-- 4. STRATEGIC REPORT (Span 8) -->
                        <div
                            class="col-span-12 md:col-span-8 dash-panel p-0 flex flex-col h-[600px] relative overflow-hidden">
                            <!-- Tabs Header -->
                            <div class="flex justify-between items-center px-6 py-4 border-b border-white/5 bg-white/2">
                                <div class="flex gap-6">
                                    <button onclick="switchTab('doc')" id="tab-doc"
                                        class="text-xs font-bold text-white border-b-2 border-indigo-500 pb-4 -mb-4.5 transition-colors tracking-wide h-full">REPORT_V1</button>
                                    <button onclick="switchTab('wireframes')" id="tab-wireframes"
                                        class="text-xs font-medium text-gray-400 hover:text-white transition-colors pb-4 -mb-4.5 tracking-wide">VISUALS</button>
                                    <button onclick="switchTab('map')" id="tab-map"
                                        class="text-xs font-medium text-gray-400 hover:text-white transition-colors pb-4 -mb-4.5 tracking-wide">RESILIENCE_MAP</button>
                                </div>
                                <div class="flex gap-2">
                                    <button onclick="shareResult()"
                                        class="w-8 h-8 rounded bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-400 hover:text-white transition">
                                        <i class="ph-bold ph-share-network"></i>
                                    </button>
                                    <button onclick="exportPDF()"
                                        class="w-8 h-8 rounded bg-indigo-500/20 hover:bg-indigo-500/30 border border-indigo-500/30 flex items-center justify-center text-indigo-400 hover:text-white transition shadow-lg shadow-indigo-500/10">
                                        <i class="ph-bold ph-download-simple"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Content Container -->
                            <div class="flex-1 overflow-y-auto p-8 relative custom-scrollbar space-y-8"
                                id="result-content">
                                <div
                                    class="flex flex-col items-center justify-center h-full text-gray-400 font-mono space-y-4">
                                    <div
                                        class="w-12 h-12 border-2 border-indigo-500/30 border-t-indigo-500 rounded-full animate-spin">
                                    </div>
                                    <span class="animate-pulse tracking-widest text-xs">> DECRYPTING_PAYLOAD...</span>
                                </div>
                            </div>

                            <!-- Bottom Fade -->
                            <div
                                class="absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-[#131524] to-transparent pointer-events-none">
                            </div>
                        </div>

                        <!-- 5. SIDEBAR WIDGETS (Span 4) -->
                        <div class="col-span-12 md:col-span-4 flex flex-col gap-6 h-[600px]">

                            <!-- Terminal -->
                            <div
                                class="dash-panel p-4 flex-1 bg-black/80 font-mono text-[10px] overflow-hidden flex flex-col border-indigo-500/10 shadow-inner">
                                <div
                                    class="text-gray-400 border-b border-gray-800 pb-2 mb-2 flex justify-between uppercase tracking-wider">
                                    <span>System_Log</span>
                                    <span class="text-green-500 flex items-center gap-1"><span
                                            class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                                        ONLINE</span>
                                </div>
                                <div class="space-y-1.5 text-gray-400 overflow-y-auto h-full scrollbar-hide"
                                    id="terminal-log">
                                    <div>> System initialized...</div>
                                </div>
                            </div>

                            <!-- Figma Prompt -->
                            <div
                                class="dash-panel p-5 h-1/2 flex flex-col relative group overflow-hidden border-purple-500/20">
                                <div
                                    class="absolute inset-0 bg-gradient-to-br from-purple-900/10 to-transparent opacity-50">
                                </div>
                                <div class="flex justify-between items-start mb-3 relative z-10">
                                    <h3
                                        class="text-[10px] font-mono text-purple-300 uppercase tracking-widest flex gap-2 items-center">
                                        <i class="ph-bold ph-figma-logo"></i> Generator
                                    </h3>
                                </div>
                                <div class="bg-black/40 border border-purple-500/20 rounded-lg p-3 text-[10px] font-mono text-purple-200 overflow-y-auto flex-1 relative z-10 shadow-inner"
                                    id="figma-code">
                                    // High-fidelity UI prompt...
                                </div>
                                <button onclick="copyFigmaCode()"
                                    class="mt-3 w-full py-2.5 bg-purple-600/20 hover:bg-purple-600 text-purple-300 hover:text-white rounded border border-purple-500/30 text-[10px] font-bold font-mono transition uppercase tracking-widest relative z-10 flex items-center justify-center gap-2 group-hover:shadow-[0_0_15px_rgba(147,51,234,0.3)]">
                                    <i class="ph-bold ph-copy"></i> Copy Prompt
                                </button>
                            </div>

                        </div>

                    </div>

                    <!-- Analytics View Placeholder (Same structure as before but full width) -->
                    <!-- VIEW: ANALYTICS (Fully Functional) -->
                    <div id="view-analytics"
                        class="hidden animate-slide-up h-full overflow-y-auto custom-scrollbar pb-12">

                        <div class="max-w-[1600px] mx-auto">
                            <!-- Section Title -->
                            <div class="mb-6 flex items-end justify-between border-b border-white/5 pb-4">
                                <div>
                                    <h2 class="text-2xl font-bold text-white tracking-tight">System Analytics</h2>
                                    <p class="text-xs text-gray-400 font-mono mt-1">REAL_TIME_DATA_FEED // ADMIN_ACCESS
                                    </p>
                                </div>
                                <div class="flex gap-2">
                                    <span
                                        class="px-2 py-1 bg-indigo-500/10 border border-indigo-500/20 rounded text-[10px] text-indigo-300 font-mono">v1.2.0
                                        STABLE</span>
                                </div>
                            </div>

                            <!-- Row 1: Main KPIs -->
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                                <div
                                    class="dash-panel p-6 flex flex-col justify-between h-32 relative overflow-hidden group">
                                    <div
                                        class="absolute right-0 top-0 p-3 opacity-10 group-hover:opacity-20 transition group-hover:scale-110 duration-500">
                                        <i class="ph-duotone ph-check-circle text-5xl text-white"></i>
                                    </div>
                                    <div class="text-[10px] font-mono text-gray-400 uppercase tracking-widest mb-1">
                                        Total Solves</div>
                                    <div>
                                        <div id="stat-solves" class="text-4xl font-bold text-white">0</div>
                                        <div class="text-[10px] text-green-400 font-mono mt-1">+12% vs last week</div>
                                    </div>
                                </div>

                                <div
                                    class="dash-panel p-6 flex flex-col justify-between h-32 relative overflow-hidden group">
                                    <div
                                        class="absolute right-0 top-0 p-3 opacity-10 group-hover:opacity-20 transition group-hover:scale-110 duration-500">
                                        <i class="ph-duotone ph-currency-eth text-5xl text-green-400"></i>
                                    </div>
                                    <div class="text-[10px] font-mono text-gray-400 uppercase tracking-widest mb-1">
                                        Revenue (ETH)</div>
                                    <div>
                                        <div id="stat-revenue" class="text-4xl font-bold text-green-400">0.0000</div>
                                        <div class="text-[10px] text-green-600 font-mono mt-1">Pending: 0.05 ETH</div>
                                    </div>
                                </div>

                                <div
                                    class="dash-panel p-6 flex flex-col justify-between h-32 relative overflow-hidden group">
                                    <div
                                        class="absolute right-0 top-0 p-3 opacity-10 group-hover:opacity-20 transition group-hover:scale-110 duration-500">
                                        <i class="ph-duotone ph-users text-5xl text-blue-400"></i>
                                    </div>
                                    <div class="text-[10px] font-mono text-gray-400 uppercase tracking-widest mb-1">
                                        Unique Users</div>
                                    <div>
                                        <div id="stat-users" class="text-4xl font-bold text-blue-400">0</div>
                                        <div class="text-[10px] text-blue-500 font-mono mt-1">Active: 12</div>
                                    </div>
                                </div>

                                <div
                                    class="dash-panel p-6 flex flex-col justify-between h-32 relative overflow-hidden group">
                                    <div
                                        class="absolute right-0 top-0 p-3 opacity-10 group-hover:opacity-20 transition group-hover:scale-110 duration-500">
                                        <i class="ph-duotone ph-chart-bar text-5xl text-yellow-400"></i>
                                    </div>
                                    <div class="text-[10px] font-mono text-gray-400 uppercase tracking-widest mb-1">Avg
                                        Order (ETH)</div>
                                    <div>
                                        <div id="stat-aov" class="text-4xl font-bold text-yellow-400">0.0000</div>
                                        <div class="text-[10px] text-yellow-600 font-mono mt-1">Target: 0.05</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Row 2: Deep Dive -->
                            <div class="grid grid-cols-1 md:grid-cols-12 gap-6 mb-8">

                                <!-- Tier Distribution (Span 8) -->
                                <div class="col-span-12 md:col-span-8 dash-panel p-6 min-h-[300px]">
                                    <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest mb-6">Tier
                                        Distribution</h3>
                                    <div class="h-64 w-full">
                                        <canvas id="chart-tiers"></canvas>
                                    </div>
                                </div>

                                <!-- Server Status & Top Tier (Span 4) -->
                                <div class="col-span-12 md:col-span-4 flex flex-col gap-6">
                                    <div
                                        class="dash-panel p-6 flex-1 flex flex-col items-center justify-center relative">
                                        <div class="text-[10px] font-mono text-gray-400 uppercase tracking-widest mb-2">
                                            Most Popular Tier</div>
                                        <div id="stat-top-tier"
                                            class="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-indigo-400">
                                            -</div>
                                        <div
                                            class="mt-4 px-3 py-1 bg-white/5 rounded-full text-[10px] text-gray-400 font-mono border border-white/5">
                                            64% of volume
                                        </div>
                                    </div>

                                    <div class="dash-panel p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <span class="text-[10px] font-mono text-gray-400 uppercase">System
                                                Status</span>
                                            <span id="stat-server-status" class="flex items-center gap-2 text-xs">
                                                <span class="flex h-2 w-2 relative">
                                                    <span
                                                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                                                    <span
                                                        class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                                                </span>
                                                <span class="text-green-400 font-bold">OPERATIONAL</span>
                                            </span>
                                        </div>
                                        <div class="space-y-2">
                                            <div class="flex justify-between text-[10px] text-gray-400 font-mono">
                                                <span>Uptime</span>
                                                <span class="text-white">99.99%</span>
                                            </div>
                                            <div class="flex justify-between text-[10px] text-gray-400 font-mono">
                                                <span>Latency</span>
                                                <span class="text-white">24ms</span>
                                            </div>
                                            <div class="w-full bg-gray-800 h-1 rounded-full overflow-hidden mt-2">
                                                <div class="bg-green-500 h-full w-[98%]"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Row 3: Transactions & Funnel -->
                            <div class="grid grid-cols-1 md:grid-cols-12 gap-6 mb-8">

                                <!-- Recent Transactions (Span 8) -->
                                <div class="col-span-12 md:col-span-8 dash-panel p-6 h-[400px] flex flex-col">
                                    <div class="flex items-center justify-between mb-6">
                                        <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                            Transaction History</h3>
                                        <div class="flex items-center gap-3">
                                            <div class="relative">
                                                <i
                                                    class="ph-bold ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs"></i>
                                                <input type="text" id="tx-search-input" placeholder="Search address..."
                                                    class="pl-8 pr-3 py-1.5 bg-black/30 border border-white/10 rounded text-xs text-white placeholder-gray-600 focus:outline-none focus:border-indigo-500 w-48 transition-all focus:w-64"
                                                    oninput="window.filterTransactions(this.value)">
                                            </div>
                                            <button onclick="window.loadTransactionHistory()"
                                                class="w-8 h-8 flex items-center justify-center bg-indigo-500/10 text-indigo-400 rounded hover:bg-indigo-500/20 transition">
                                                <i class="ph-bold ph-arrows-clockwise"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <div class="flex-1 overflow-auto custom-scrollbar -mx-2 px-2">
                                        <table class="w-full text-xs text-left">
                                            <thead class="sticky top-0 bg-[#0f111a] z-10">
                                                <tr class="text-gray-400 border-b border-white/5">
                                                    <th class="py-3 px-2 font-mono font-normal">WALLET</th>
                                                    <th class="py-3 px-2 font-mono font-normal">TIER</th>
                                                    <th class="py-3 px-2 font-mono font-normal">DATE</th>
                                                    <th class="py-3 px-2 font-mono font-normal">TX HASH</th>
                                                </tr>
                                            </thead>
                                            <tbody id="tx-history-body" class="font-mono text-gray-300">
                                                <tr>
                                                    <td colspan="4" class="py-12 text-center text-gray-600 italic">
                                                        Attempting to fetch ledger data...
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div id="tx-history-stats"
                                        class="text-[10px] text-gray-600 mt-4 font-mono text-right border-t border-white/5 pt-3">
                                        Syncing ledger...
                                    </div>
                                </div>

                                <!-- Funnel (Span 4) -->
                                <div class="col-span-12 md:col-span-4 dash-panel p-6 h-[400px] flex flex-col">
                                    <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest mb-6">
                                        Conversion Impact</h3>

                                    <div class="flex-1 flex flex-col justify-center space-y-6">
                                        <!-- Step 1 -->
                                        <div class="relative">
                                            <div class="flex justify-between text-xs mb-2">
                                                <span class="text-white font-bold">Landing Page</span>
                                                <span id="funnel-landing-pct"
                                                    class="text-green-400 font-mono">100%</span>
                                            </div>
                                            <div
                                                class="h-14 bg-white/5 rounded-lg border border-white/5 relative overflow-hidden">
                                                <div id="funnel-landing-bar"
                                                    class="absolute inset-y-0 left-0 bg-indigo-900/40 border-r border-indigo-500/50 transition-all duration-1000"
                                                    style="width: 100%"></div>
                                                <div
                                                    class="absolute inset-0 flex items-center px-4 text-[10px] text-gray-400 font-mono">
                                                    <i class="ph-bold ph-eye mr-2"></i> Total Visitors
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Step 2 -->
                                        <div class="relative">
                                            <div class="flex justify-between text-xs mb-2">
                                                <span class="text-white font-bold">Wallet Connect</span>
                                                <span id="funnel-connected-pct"
                                                    class="text-indigo-400 font-mono">--%</span>
                                            </div>
                                            <div
                                                class="h-14 bg-white/5 rounded-lg border border-white/5 relative overflow-hidden">
                                                <div id="funnel-connected-bar"
                                                    class="absolute inset-y-0 left-0 bg-indigo-700/40 border-r border-indigo-400/50 transition-all duration-1000"
                                                    style="width: 0%"></div>
                                                <div
                                                    class="absolute inset-0 flex items-center px-4 text-[10px] text-gray-400 font-mono">
                                                    <i class="ph-bold ph-plug mr-2"></i> Handshake
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Step 3 -->
                                        <div class="relative">
                                            <div class="flex justify-between text-xs mb-2">
                                                <span class="text-white font-bold">Conversion</span>
                                                <span id="funnel-paid-pct" class="text-green-400 font-mono">--%</span>
                                            </div>
                                            <div
                                                class="h-14 bg-white/5 rounded-lg border border-white/5 relative overflow-hidden">
                                                <div id="funnel-paid-bar"
                                                    class="absolute inset-y-0 left-0 bg-green-500/20 border-r border-green-500/50 transition-all duration-1000"
                                                    style="width: 0%"></div>
                                                <div
                                                    class="absolute inset-0 flex items-center px-4 text-[10px] text-gray-400 font-mono">
                                                    <i class="ph-bold ph-coins mr-2"></i> Minted
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- Row 4: Quick Actions -->
                            <div class="dash-panel p-6 flex flex-wrap items-center gap-4">
                                <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest mr-4">Data Exports
                                </h3>
                                <button onclick="window.refreshAdminStats()"
                                    class="px-4 py-2.5 bg-indigo-500/10 text-indigo-400 text-xs font-bold rounded-lg border border-indigo-500/20 hover:bg-indigo-500/20 transition flex items-center gap-2">
                                    <i class="ph-bold ph-arrows-clockwise"></i> Refresh Feed
                                </button>
                                <button onclick="window.exportAdminCSV && window.exportAdminCSV()"
                                    class="px-4 py-2.5 bg-gray-800 text-gray-300 text-xs font-bold rounded-lg border border-white/10 hover:bg-gray-700 transition flex items-center gap-2">
                                    <i class="ph-bold ph-file-csv"></i> Download CSV
                                </button>
                                <div class="h-6 w-px bg-white/10 mx-2"></div>
                                <a href="https://etherscan.io/address/0xa14504ffe5E9A245c9d4079547Fa16fA0A823114"
                                    target="_blank"
                                    class="text-xs font-mono text-gray-400 hover:text-white transition flex items-center gap-2">
                                    CONTRACT: 0xa14...3114 <i class="ph-bold ph-arrow-square-out"></i>
                                </a>
                            </div>

                        </div>
                    </div>

                    <!-- VIEW: TEAM -->
                    <div id="view-team"
                        class="hidden animate-slide-up h-full flex flex-col items-center justify-center p-8">
                        <div class="dash-panel p-12 text-center max-w-lg mx-auto">
                            <i class="ph-duotone ph-users-three text-6xl text-gray-600 mb-6"></i>
                            <h2 class="text-2xl text-white font-bold mb-2">Team Management</h2>
                            <p class="text-gray-400 mb-6">Collaborate with your organization. This feature is coming in
                                v2.1.</p>
                            <button
                                class="px-6 py-2 bg-white/5 border border-white/10 rounded-lg text-gray-400 cursor-not-allowed">
                                Feature Locked
                            </button>
                        </div>
                    </div>

                    <!-- VIEW: SETTINGS -->
                    <div id="view-settings"
                        class="hidden animate-slide-up h-full flex flex-col items-center justify-center p-8">
                        <div class="dash-panel p-12 text-center max-w-lg mx-auto">
                            <i class="ph-duotone ph-gear text-6xl text-gray-600 mb-6"></i>
                            <h2 class="text-2xl text-white font-bold mb-2">System Settings</h2>
                            <p class="text-gray-400 mb-6">Configure API keys, webhooks, and security preferences.</p>
                            <button
                                class="px-6 py-2 bg-indigo-500/20 border border-indigo-500/40 rounded-lg text-indigo-300 hover:bg-indigo-500/30 transition">
                                Open Config Panel
                            </button>
                        </div>
                    </div>

                    <!-- VIEW: PRODUCT OUTPUT -->
                    <div id="view-output" class="hidden animate-slide-up h-full overflow-y-auto custom-scrollbar pb-12">
                        <div class="max-w-[1600px] mx-auto">

                            <!-- Section Header with Meta Bar -->
                            <div class="mb-8">
                                <!-- Title Row -->
                                <div class="flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4">
                                    <div>
                                        <div class="flex items-center gap-3 mb-2">
                                            <div
                                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center">
                                                <i class="ph-bold ph-strategy text-white text-lg"></i>
                                            </div>
                                            <div>
                                                <h2 class="text-xl font-bold text-white tracking-tight">Product Strategy
                                                    Output</h2>
                                                <p class="text-[10px] text-gray-400 font-mono">GEMINI_3 // v14.1 HYBRID
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Tab Navigation -->
                                    <div class="flex items-center gap-2">
                                        <button onclick="switchOutputTab('vp')" id="output-tab-vp"
                                            class="output-tab-active px-4 py-2 text-xs font-bold rounded-lg transition-all flex items-center gap-2">
                                            <i class="ph-bold ph-chart-pie-slice"></i> VP Summary
                                        </button>
                                        <button onclick="switchOutputTab('build')" id="output-tab-build"
                                            class="px-4 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all flex items-center gap-2">
                                            <i class="ph-bold ph-package"></i> Build Pack
                                        </button>
                                        <button onclick="switchOutputTab('evidence')" id="output-tab-evidence"
                                            class="px-4 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all flex items-center gap-2">
                                            <i class="ph-bold ph-paperclip"></i> Evidence
                                        </button>
                                        <div class="h-6 w-px bg-white/10 mx-2"></div>
                                        <button onclick="exportAllOutput()"
                                            class="px-3 py-2 bg-indigo-500/10 text-indigo-400 text-xs font-bold rounded-lg border border-indigo-500/20 hover:bg-indigo-500/20 transition flex items-center gap-2">
                                            <i class="ph-bold ph-download-simple"></i> Export
                                        </button>
                                        <button onclick="toggleAllSections()"
                                            class="px-3 py-2 bg-white/5 text-gray-400 text-xs rounded-lg hover:bg-white/10 transition flex items-center gap-2">
                                            <i class="ph-bold ph-arrows-out-simple"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Meta Bar -->
                                <div class="meta-bar flex-wrap">
                                    <div class="meta-item">
                                        <i class="ph-bold ph-buildings text-indigo-400"></i>
                                        <span class="label">Domain</span>
                                        <span class="value">Fintech</span>
                                    </div>
                                    <div class="w-px h-4 bg-white/10"></div>
                                    <div class="meta-item">
                                        <i class="ph-bold ph-warning-circle text-yellow-400"></i>
                                        <span class="label">Risk</span>
                                        <div class="confidence-dots">
                                            <div class="dot active"></div>
                                            <div class="dot active"></div>
                                            <div class="dot active"></div>
                                            <div class="dot"></div>
                                            <div class="dot"></div>
                                        </div>
                                    </div>
                                    <div class="w-px h-4 bg-white/10"></div>
                                    <div class="meta-item">
                                        <i class="ph-bold ph-seal-check text-green-400"></i>
                                        <span class="label">Confidence</span>
                                        <span class="value text-green-400">87%</span>
                                    </div>
                                    <div class="w-px h-4 bg-white/10"></div>
                                    <div class="meta-item">
                                        <span class="label">Sections</span>
                                        <span class="value">17</span>
                                        <span class="text-gray-400 text-[10px]">/ 17 complete</span>
                                    </div>
                                    <div class="flex-1"></div>
                                    <div class="meta-item">
                                        <div class="w-24 h-1.5 bg-white/10 rounded-full overflow-hidden">
                                            <div class="h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full"
                                                style="width: 100%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- TAB: VP SUMMARY -->
                            <div id="output-content-vp" class="output-tab-content space-y-6">

                                <!-- HERO KPI Section -->
                                <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

                                    <!-- Hero North Star Metric -->
                                    <div class="lg:col-span-5 glass-panel p-8 relative overflow-hidden">
                                        <div
                                            class="absolute top-0 right-0 w-40 h-40 bg-gradient-to-bl from-indigo-500/20 to-transparent rounded-full blur-3xl">
                                        </div>
                                        <div class="relative">
                                            <div class="flex items-center gap-2 mb-4">
                                                <i class="ph-bold ph-target text-indigo-400"></i>
                                                <span
                                                    class="text-[10px] font-mono text-gray-400 uppercase tracking-widest">North
                                                    Star Metric</span>
                                            </div>
                                            <div class="hero-metric mb-2">+15%</div>
                                            <div class="text-lg text-white font-medium mb-1">Revenue Impact</div>
                                            <div class="text-sm text-gray-400 mb-4">Expected uplift based on conversion
                                                optimization</div>
                                            <div class="flex items-center gap-4 mt-6">
                                                <div class="flex items-center gap-2 text-xs">
                                                    <i class="ph-bold ph-trend-up text-green-400"></i>
                                                    <span class="text-gray-300">Trending +3% vs last quarter</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Supporting KPIs Grid -->
                                    <div class="lg:col-span-7 grid grid-cols-2 md:grid-cols-4 gap-4">
                                        <!-- Conversion -->
                                        <div class="glass-panel kpi-supporting group">
                                            <i
                                                class="ph-bold ph-chart-line-up text-green-400 text-xl mb-2 group-hover:scale-110 transition"></i>
                                            <div class="value text-green-400">+8%</div>
                                            <div class="label">Conversion</div>
                                            <div class="trend text-green-400/70">↑ Uplift</div>
                                        </div>
                                        <!-- Latency -->
                                        <div class="glass-panel kpi-supporting group">
                                            <i
                                                class="ph-bold ph-timer text-cyan-400 text-xl mb-2 group-hover:scale-110 transition"></i>
                                            <div class="value text-cyan-400">&lt;200ms</div>
                                            <div class="label">Latency</div>
                                            <div class="trend text-cyan-400/70">Target</div>
                                        </div>
                                        <!-- NPS -->
                                        <div class="glass-panel kpi-supporting group">
                                            <i
                                                class="ph-bold ph-heart text-yellow-400 text-xl mb-2 group-hover:scale-110 transition"></i>
                                            <div class="value text-yellow-400">&gt;50</div>
                                            <div class="label">NPS Score</div>
                                            <div class="trend text-yellow-400/70">Target</div>
                                        </div>
                                        <!-- Support -->
                                        <div class="glass-panel kpi-supporting group">
                                            <i
                                                class="ph-bold ph-headset text-purple-400 text-xl mb-2 group-hover:scale-110 transition"></i>
                                            <div class="value text-purple-400">-20%</div>
                                            <div class="label">Support</div>
                                            <div class="trend text-purple-400/70">Tickets</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Executive Summary + Risk Matrix Row -->
                                <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

                                    <!-- Executive Summary - Collapsible -->
                                    <div class="lg:col-span-7 glass-panel p-6 collapsible-section" id="section-exec">
                                        <div class="section-header cursor-pointer" onclick="toggleSection('exec')">
                                            <i class="ph-bold ph-brain text-indigo-400"></i>
                                            <h3>Executive Summary</h3>
                                            <span class="flex-1"></span>
                                            <i class="ph-bold ph-caret-down collapse-icon text-gray-400"></i>
                                        </div>
                                        <div class="section-content">
                                            <div id="exec-summary-content"
                                                class="prose prose-invert prose-sm max-w-none">
                                                <p class="text-gray-300 leading-relaxed text-sm">
                                                    This product strategy addresses key pain points in the fintech
                                                    checkout flow,
                                                    focusing on trust-building, cognitive load reduction, and conversion
                                                    optimization.
                                                    The proposed wizard-based approach will reduce abandonment by up to
                                                    40% while
                                                    maintaining security standards.
                                                </p>
                                            </div>
                                            <div class="mt-6 pt-4 border-t border-white/5">
                                                <div class="text-[10px] text-gray-400 uppercase tracking-wider mb-2">Key
                                                    Tags</div>
                                                <div class="flex flex-wrap gap-2">
                                                    <span
                                                        class="px-3 py-1.5 bg-indigo-500/10 border border-indigo-500/20 rounded-lg text-[11px] text-indigo-300">
                                                        <i class="ph-bold ph-buildings mr-1"></i>Fintech
                                                    </span>
                                                    <span
                                                        class="px-3 py-1.5 bg-purple-500/10 border border-purple-500/20 rounded-lg text-[11px] text-purple-300">
                                                        <i class="ph-bold ph-puzzle-piece mr-1"></i>Framework A
                                                    </span>
                                                    <span
                                                        class="px-3 py-1.5 bg-cyan-500/10 border border-cyan-500/20 rounded-lg text-[11px] text-cyan-300">
                                                        <i class="ph-bold ph-lock mr-1"></i>Security-First
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Risk Matrix - Collapsible -->
                                    <div class="lg:col-span-5 glass-panel p-6 collapsible-section" id="section-risk">
                                        <div class="section-header cursor-pointer" onclick="toggleSection('risk')">
                                            <i class="ph-bold ph-warning text-red-400"></i>
                                            <h3>Top 5 Breakers</h3>
                                            <span class="flex-1"></span>
                                            <span
                                                class="text-[9px] bg-red-500/20 text-red-400 px-2 py-0.5 rounded-full font-bold">3
                                                CRITICAL</span>
                                            <i class="ph-bold ph-caret-down collapse-icon text-gray-400 ml-2"></i>
                                        </div>
                                        <div class="section-content">
                                            <div id="risk-matrix" class="space-y-3">
                                                <!-- Risk 1 -->
                                                <div
                                                    class="flex items-center gap-3 p-3 bg-red-500/5 border border-red-500/10 rounded-xl hover:bg-red-500/10 transition group">
                                                    <div
                                                        class="w-8 h-8 flex items-center justify-center bg-red-500/20 rounded-lg text-red-400 text-xs font-bold group-hover:scale-110 transition">
                                                        1</div>
                                                    <div class="flex-1 min-w-0">
                                                        <div class="text-xs text-white font-medium">Trust Decay Risk
                                                        </div>
                                                        <div class="text-[10px] text-gray-400 truncate">Payment
                                                            verification UX unclear</div>
                                                    </div>
                                                    <span
                                                        class="px-2 py-0.5 bg-red-500/20 text-red-400 text-[9px] font-bold rounded-lg">CRITICAL</span>
                                                </div>
                                                <!-- Risk 2 -->
                                                <div
                                                    class="flex items-center gap-3 p-3 bg-yellow-500/5 border border-yellow-500/10 rounded-xl hover:bg-yellow-500/10 transition group">
                                                    <div
                                                        class="w-8 h-8 flex items-center justify-center bg-yellow-500/20 rounded-lg text-yellow-400 text-xs font-bold group-hover:scale-110 transition">
                                                        2</div>
                                                    <div class="flex-1 min-w-0">
                                                        <div class="text-xs text-white font-medium">Cognitive Overload
                                                        </div>
                                                        <div class="text-[10px] text-gray-400 truncate">Too many steps
                                                            in checkout</div>
                                                    </div>
                                                    <span
                                                        class="px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-[9px] font-bold rounded-lg">HIGH</span>
                                                </div>
                                                <!-- Risk 3 -->
                                                <div
                                                    class="flex items-center gap-3 p-3 bg-yellow-500/5 border border-yellow-500/10 rounded-xl hover:bg-yellow-500/10 transition group">
                                                    <div
                                                        class="w-8 h-8 flex items-center justify-center bg-yellow-500/20 rounded-lg text-yellow-400 text-xs font-bold group-hover:scale-110 transition">
                                                        3</div>
                                                    <div class="flex-1 min-w-0">
                                                        <div class="text-xs text-white font-medium">Latency Budget</div>
                                                        <div class="text-[10px] text-gray-400 truncate">API response
                                                            &gt;300ms threshold</div>
                                                    </div>
                                                    <span
                                                        class="px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-[9px] font-bold rounded-lg">HIGH</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Solution Bullets + Cost Row -->
                                <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
                                    <!-- Solution Summary -->
                                    <div class="col-span-12 md:col-span-8 dash-panel p-6">
                                        <div class="flex items-center gap-2 mb-4">
                                            <i class="ph-bold ph-check-circle text-green-400"></i>
                                            <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                Solution Summary</h3>
                                        </div>
                                        <div id="solution-bullets" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                            <div
                                                class="flex items-start gap-2 p-3 bg-green-500/5 rounded-lg border border-green-500/10">
                                                <i class="ph-bold ph-check text-green-400 mt-0.5"></i>
                                                <span class="text-xs text-gray-300">Wizard-based checkout reduces
                                                    cognitive load by 40%</span>
                                            </div>
                                            <div
                                                class="flex items-start gap-2 p-3 bg-green-500/5 rounded-lg border border-green-500/10">
                                                <i class="ph-bold ph-check text-green-400 mt-0.5"></i>
                                                <span class="text-xs text-gray-300">Real-time validation prevents
                                                    85% of errors</span>
                                            </div>
                                            <div
                                                class="flex items-start gap-2 p-3 bg-green-500/5 rounded-lg border border-green-500/10">
                                                <i class="ph-bold ph-check text-green-400 mt-0.5"></i>
                                                <span class="text-xs text-gray-300">Trust indicators increase
                                                    conversion +12%</span>
                                            </div>
                                            <div
                                                class="flex items-start gap-2 p-3 bg-green-500/5 rounded-lg border border-green-500/10">
                                                <i class="ph-bold ph-check text-green-400 mt-0.5"></i>
                                                <span class="text-xs text-gray-300">Progressive disclosure reduces
                                                    abandonment</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Cost & Timeline -->
                                    <div class="col-span-12 md:col-span-4 dash-panel p-6">
                                        <div class="flex items-center gap-2 mb-4">
                                            <i class="ph-bold ph-currency-dollar text-green-400"></i>
                                            <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                Cost & Timeline</h3>
                                        </div>
                                        <div class="text-center">
                                            <div id="cost-range" class="text-3xl font-bold text-white mb-1">$45-65k
                                            </div>
                                            <div class="text-[10px] text-gray-400 font-mono mb-4">Build Cost Range
                                            </div>
                                            <div class="w-full bg-gray-800 h-2 rounded-full overflow-hidden mb-4">
                                                <div
                                                    class="bg-gradient-to-r from-indigo-500 to-purple-500 h-full w-3/4 rounded-full">
                                                </div>
                                            </div>
                                            <div class="flex justify-between text-[10px] text-gray-400 font-mono">
                                                <span>Discovery</span>
                                                <span>Design</span>
                                                <span>Build</span>
                                                <span>QA</span>
                                            </div>
                                        </div>
                                        <div class="mt-4 pt-4 border-t border-white/5">
                                            <div class="flex justify-between text-xs">
                                                <span class="text-gray-400">Timeline:</span>
                                                <span class="text-white font-bold">8-10 weeks</span>
                                            </div>
                                            <div class="flex justify-between text-xs mt-2">
                                                <span class="text-gray-400">Team Size:</span>
                                                <span class="text-white font-bold">5-7 people</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- TAB: BUILD PACK -->
                            <div id="output-content-build" class="output-tab-content hidden space-y-6">

                                <!-- Assumptions & Scope -->
                                <div class="dash-panel p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <div class="flex items-center gap-2">
                                            <i class="ph-bold ph-list-checks text-indigo-400"></i>
                                            <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                Assumptions & Scope</h3>
                                        </div>
                                        <button onclick="toggleBuildSection('assumptions')"
                                            class="text-[10px] text-gray-400 hover:text-white transition">
                                            <i class="ph-bold ph-caret-down"></i>
                                        </button>
                                    </div>
                                    <div id="build-assumptions" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <!-- Populated -->
                                    </div>
                                </div>

                                <!-- Screen Specs Carousel -->
                                <div class="dash-panel p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <div class="flex items-center gap-2">
                                            <i class="ph-bold ph-devices text-cyan-400"></i>
                                            <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                Screen Specifications (8 max)</h3>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <button onclick="prevScreen()"
                                                class="w-8 h-8 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-lg transition">
                                                <i class="ph-bold ph-caret-left text-gray-400"></i>
                                            </button>
                                            <span id="screen-counter" class="text-xs text-gray-400 font-mono">1/4</span>
                                            <button onclick="nextScreen()"
                                                class="w-8 h-8 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-lg transition">
                                                <i class="ph-bold ph-caret-right text-gray-400"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div id="screen-carousel" class="relative overflow-hidden">
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <!-- Screen Card 1 -->
                                            <div
                                                class="bg-gradient-to-br from-indigo-500/10 to-purple-500/5 border border-indigo-500/20 rounded-xl p-5">
                                                <div class="flex items-center justify-between mb-3">
                                                    <span class="text-[10px] text-indigo-400 font-mono">SCREEN_01</span>
                                                    <span
                                                        class="px-2 py-0.5 bg-green-500/20 text-green-400 text-[9px] rounded">CORE</span>
                                                </div>
                                                <h4 class="text-white font-bold mb-2">Landing / Hero</h4>
                                                <p class="text-xs text-gray-400 mb-3">Primary conversion entry point
                                                    with value proposition</p>
                                                Screen Specifications</h3>
                                            </div>
                                            <button onclick="toggleBuildSection('screens')"
                                                class="text-[10px] text-gray-400 hover:text-white transition">
                                                <i class="ph-bold ph-caret-down"></i>
                                            </button>
                                        </div>
                                        <div id="build-screens-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <!-- Content populated by JS -->
                                        </div>
                                    </div>

                                    <!-- Validation & Testing -->
                                    <div class="dash-panel p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center gap-2">
                                                <i class="ph-bold ph-bug text-green-400"></i>
                                                <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                    Validation Plan</h3>
                                            </div>
                                            <button onclick="toggleBuildSection('validation')"
                                                class="text-[10px] text-gray-400 hover:text-white transition">
                                                <i class="ph-bold ph-caret-down"></i>
                                            </button>
                                        </div>
                                        <div id="build-validation-container" class="overflow-x-auto">
                                            <!-- Content populated by JS -->
                                        </div>
                                    </div>

                                    <!-- Error Recovery Map -->
                                    <div class="dash-panel p-6">
                                        <div class="flex items-center gap-2 mb-4">
                                            <i class="ph-bold ph-first-aid text-red-400"></i>
                                            <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">Error
                                                & Recovery Map</h3>
                                        </div>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <!-- Deep Dive 1 -->
                                            <div class="bg-red-500/5 border border-red-500/20 rounded-xl p-5">
                                                <div class="flex items-center gap-2 mb-3">
                                                    <span
                                                        class="px-2 py-0.5 bg-red-500/30 text-red-400 text-[9px] font-bold rounded">DEEP
                                                        DIVE #1</span>
                                                    <span class="text-[10px] text-gray-400">Most Likely Failure</span>
                                                </div>
                                                <h4 class="text-white font-bold mb-2">Transaction Rejected</h4>
                                                <div class="space-y-2 text-xs">
                                                    <div class="flex gap-2"><span
                                                            class="text-gray-400">Cause:</span><span
                                                            class="text-gray-300">User rejected MetaMask prompt</span>
                                                    </div>
                                                    <div class="flex gap-2"><span
                                                            class="text-gray-400">Copy:</span><span
                                                            class="text-yellow-300">"Transaction cancelled. Ready when
                                                            you are."</span></div>
                                                    <div class="flex gap-2"><span
                                                            class="text-gray-400">Recovery:</span><span
                                                            class="text-green-400">Show retry CTA, preserve input</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Deep Dive 2 -->
                                            <div class="bg-orange-500/5 border border-orange-500/20 rounded-xl p-5">
                                                <div class="flex items-center gap-2 mb-3">
                                                    <span
                                                        class="px-2 py-0.5 bg-orange-500/30 text-orange-400 text-[9px] font-bold rounded">DEEP
                                                        DIVE #2</span>
                                                    <span class="text-[10px] text-gray-400">Highest Risk</span>
                                                </div>
                                                <h4 class="text-white font-bold mb-2">Payment Timeout</h4>
                                                <div class="space-y-2 text-xs">
                                                    <div class="flex gap-2"><span
                                                            class="text-gray-400">Cause:</span><span
                                                            class="text-gray-300">Network congestion, tx pending
                                                            >5min</span></div>
                                                    <div class="flex gap-2"><span
                                                            class="text-gray-400">Copy:</span><span
                                                            class="text-yellow-300">"Still processing. Check Etherscan:
                                                            [link]"</span></div>
                                                    <div class="flex gap-2"><span
                                                            class="text-gray-400">Recovery:</span><span
                                                            class="text-green-400">Poll status, email receipt, support
                                                            link</span></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Tech Specs -->
                                    <div class="dash-panel p-6" id="build-techspecs-container">
                                        <div class="flex items-center gap-2 mb-4">
                                            <i class="ph-bold ph-code text-purple-400"></i>
                                            <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                Technical Implementation</h3>
                                        </div>
                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                            <div class="bg-purple-500/5 border border-purple-500/20 rounded-xl p-4">
                                                <h4 class="text-xs text-purple-400 font-mono mb-2">API Contract</h4>
                                                <pre
                                                    class="text-[10px] text-gray-300 bg-black/30 p-2 rounded overflow-x-auto"><code>POST /api/solve
{
  "problem": string,
  "tier": "standard"|"medium"|"full",
  "txHash": string
}</code></pre>
                                            </div>
                                            <div class="bg-purple-500/5 border border-purple-500/20 rounded-xl p-4">
                                                <h4 class="text-xs text-purple-400 font-mono mb-2">Response Shape</h4>
                                                <pre
                                                    class="text-[10px] text-gray-300 bg-black/30 p-2 rounded overflow-x-auto"><code>{
  "success": boolean,
  "solution": string,
  "sections": {...},
  "meta": { tier, provider }
}</code></pre>
                                            </div>
                                            <div class="bg-purple-500/5 border border-purple-500/20 rounded-xl p-4">
                                                <h4 class="text-xs text-purple-400 font-mono mb-2">Error Shape</h4>
                                                <pre
                                                    class="text-[10px] text-gray-300 bg-black/30 p-2 rounded overflow-x-auto"><code>{
  "error": true,
  "code": "TX_INVALID",
  "message": string,
  "retry": boolean
}</code></pre>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <!-- TAB: EVIDENCE -->
                                <div id="output-content-evidence" class="output-tab-content hidden space-y-6">

                                    <!-- Decision & Evidence Table -->
                                    <div class="dash-panel p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center gap-2">
                                                <i class="ph-bold ph-table text-cyan-400"></i>
                                                <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                    Decision & Evidence Table</h3>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <select
                                                    class="bg-black/30 border border-white/10 rounded px-2 py-1 text-[10px] text-gray-400">
                                                    <option>All Confidence</option>
                                                    <option>High Only</option>
                                                    <option>Needs Validation</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="overflow-x-auto">
                                            <table class="w-full text-xs">
                                                <thead>
                                                    <tr class="text-gray-400 border-b border-white/10">
                                                        <th class="text-left py-2 px-3 font-mono">Decision</th>
                                                        <th class="text-left py-2 px-3 font-mono">User Impact</th>
                                                        <th class="text-left py-2 px-3 font-mono">Business Impact</th>
                                                        <th class="text-left py-2 px-3 font-mono">Confidence</th>
                                                        <th class="text-left py-2 px-3 font-mono">How to Validate</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-gray-300">
                                                    <tr class="border-b border-white/5 hover:bg-white/5">
                                                        <td class="py-3 px-3 font-medium text-white">Wizard vs Single
                                                            Page</td>
                                                        <td class="py-3 px-3">-40% cognitive load</td>
                                                        <td class="py-3 px-3 text-green-400">+12% conversion</td>
                                                        <td class="py-3 px-3"><span
                                                                class="px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-[9px]">HIGH</span>
                                                        </td>
                                                        <td class="py-3 px-3 text-indigo-400">A/B Test</td>
                                                    </tr>
                                                    <tr class="border-b border-white/5 hover:bg-white/5">
                                                        <td class="py-3 px-3 font-medium text-white">Inline Validation
                                                        </td>
                                                        <td class="py-3 px-3">Faster error recovery</td>
                                                        <td class="py-3 px-3 text-green-400">-20% support tickets</td>
                                                        <td class="py-3 px-3"><span
                                                                class="px-2 py-0.5 bg-yellow-500/20 text-yellow-400 rounded text-[9px]">MEDIUM</span>
                                                        </td>
                                                        <td class="py-3 px-3 text-indigo-400">User Testing</td>
                                                    </tr>
                                                <tbody class="divide-y divide-white/5" id="evidence-decisions-body">
                                                    <!-- Populated by JS -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- User Research Findings -->
                                        <div class="dash-panel p-6 flex flex-col">
                                            <div class="flex items-center gap-2 mb-4">
                                                <i class="ph-bold ph-users-three text-blue-400"></i>
                                                <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                    User Research</h3>
                                            </div>
                                            <div id="evidence-research-container" class="space-y-3 flex-1">
                                                <!-- Populated by JS -->
                                            </div>
                                        </div>

                                        <!-- ROI Analysis -->
                                        <div class="dash-panel p-6">
                                            <div class="flex items-center gap-2 mb-4">
                                                <i class="ph-bold ph-currency-dollar text-green-400"></i>
                                                <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                    Projected ROI</h3>
                                            </div>
                                            <div id="evidence-roi-container">
                                                <!-- Populated by JS -->
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Research Plan -->
                                    <div class="dash-panel p-6">
                                        <div class="flex items-center gap-2 mb-4">
                                            <i class="ph-bold ph-flask text-indigo-400"></i>
                                            <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                Research Plan</h3>
                                        </div>
                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                            <div class="bg-indigo-500/5 border border-indigo-500/20 rounded-xl p-4">
                                                <div class="text-[10px] text-indigo-400 font-mono mb-2">DISCOVERY PHASE
                                                </div>
                                                <ul class="text-xs text-gray-300 space-y-1">
                                                    <li>• 5x User Interviews</li>
                                                    <li>• Competitor Analysis</li>
                                                    <li>• Analytics Review</li>
                                                </ul>
                                            </div>
                                            <div class="bg-purple-500/5 border border-purple-500/20 rounded-xl p-4">
                                                <div class="text-[10px] text-purple-400 font-mono mb-2">EVALUATIVE PHASE
                                                </div>
                                                <ul class="text-xs text-gray-300 space-y-1">
                                                    <li>• Usability Testing (n=8)</li>
                                                    <li>• A/B Testing (2 weeks)</li>
                                                    <li>• Heuristic Evaluation</li>
                                                </ul>
                                            </div>
                                            <div class="bg-cyan-500/5 border border-cyan-500/20 rounded-xl p-4">
                                                <div class="text-[10px] text-cyan-400 font-mono mb-2">VALIDATION PHASE
                                                </div>
                                                <ul class="text-xs text-gray-300 space-y-1">
                                                    <li>• Beta Launch (100 users)</li>
                                                    <li>• NPS Survey</li>
                                                    <li>• Support Ticket Analysis</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Cost Model & ROI -->
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- Cost Breakdown -->
                                        <div class="dash-panel p-6">
                                            <div class="flex items-center gap-2 mb-4">
                                                <i class="ph-bold ph-calculator text-green-400"></i>
                                                <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                    Cost Model</h3>
                                            </div>
                                            <div class="space-y-3">
                                                <div
                                                    class="flex justify-between items-center p-3 bg-white/5 rounded-lg">
                                                    <span class="text-xs text-gray-300">Discovery & Design</span>
                                                    <span class="text-white font-bold">$12,000</span>
                                                </div>
                                                <div
                                                    class="flex justify-between items-center p-3 bg-white/5 rounded-lg">
                                                    <span class="text-xs text-gray-300">Frontend Development</span>
                                                    <span class="text-white font-bold">$18,000</span>
                                                </div>
                                                <div
                                                    class="flex justify-between items-center p-3 bg-white/5 rounded-lg">
                                                    <span class="text-xs text-gray-300">Backend & API</span>
                                                    <span class="text-white font-bold">$15,000</span>
                                                </div>
                                                <div
                                                    class="flex justify-between items-center p-3 bg-white/5 rounded-lg">
                                                    <span class="text-xs text-gray-300">QA & Testing</span>
                                                    <span class="text-white font-bold">$8,000</span>
                                                </div>
                                                <div
                                                    class="flex justify-between items-center p-3 bg-green-500/10 border border-green-500/20 rounded-lg">
                                                    <span class="text-sm text-white font-bold">Total Build Cost</span>
                                                    <span class="text-green-400 font-bold text-lg">$53,000</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- ROI Analysis -->
                                        <div class="dash-panel p-6">
                                            <div class="flex items-center gap-2 mb-4">
                                                <i class="ph-bold ph-trend-up text-green-400"></i>
                                                <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">
                                                    ROI Sensitivity</h3>
                                            </div>
                                            <div class="space-y-4">
                                                <div
                                                    class="text-center p-4 bg-gradient-to-br from-green-500/10 to-emerald-500/5 rounded-xl border border-green-500/20">
                                                    <div class="text-[10px] text-gray-400 mb-1">Expected ROI (12 months)
                                                    </div>
                                                    <div class="text-3xl font-bold text-green-400">+285%</div>
                                                </div>
                                                <div class="grid grid-cols-3 gap-2">
                                                    <div class="text-center p-3 bg-red-500/5 rounded-lg">
                                                        <div class="text-[9px] text-gray-400">WORST</div>
                                                        <div class="text-sm font-bold text-red-400">+85%</div>
                                                    </div>
                                                    <div class="text-center p-3 bg-yellow-500/5 rounded-lg">
                                                        <div class="text-[9px] text-gray-400">EXPECTED</div>
                                                        <div class="text-sm font-bold text-yellow-400">+285%</div>
                                                    </div>
                                                    <div class="text-center p-3 bg-green-500/5 rounded-lg">
                                                        <div class="text-[9px] text-gray-400">BEST</div>
                                                        <div class="text-sm font-bold text-green-400">+520%</div>
                                                    </div>
                                                </div>
                                                <div class="text-[10px] text-gray-400 text-center">
                                                    Based on +12% conversion @ $49 AOV, 10k monthly visitors
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>

                    </div>
                </div>
            </div>

    </main>

    <!-- TOAST NOTIFICATION -->
    <!-- TOAST NOTIFICATION (Modular) -->
    <div id="toastNotification"
        class="fixed top-24 right-6 bg-[#0f111a] border border-white/10 text-white px-5 py-4 rounded-xl shadow-[0_0_30px_rgba(0,0,0,0.5)] transform translate-x-full transition-transform duration-300 flex items-center gap-4 z-[100] hidden max-w-sm w-full backdrop-blur-md">
        <div class="flex-shrink-0">
            <i id="toastIcon" class="ph-bold text-2xl"></i>
        </div>
        <div class="flex-1 min-w-0">
            <div id="toastTitle" class="text-sm font-bold font-mono text-white mb-1 uppercase tracking-wider">
                Notification</div>
            <div id="toastMessage" class="text-xs text-gray-400 font-sans leading-relaxed break-words">Message body
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <!-- Modular JS Architecture -->
    <script src="js/modules/toast.js?v=1.5"></script>
    <script src="js/modules/wallet.js?v=1.5"></script>
    <script src="js/modules/simulationResult.js?v=1.5"></script>
    <script src="js/modules/api.js?v=1.5"></script>
    <script src="js/modules/markdown.js?v=1.5"></script>
    <script src="js/modules/session.js?v=1.5"></script>
    <script src="js/modules/payment.js?v=1.5"></script>
    <script src="js/modules/admin.js?v=1.5"></script>
    <script src="js/modules/dashboard.js?v=1.5"></script>
    <script src="js/modules/share.js?v=1.5"></script>
    <script src="js/app.js?v=5.5"></script>
    <script>
        // UI Helpers
        function startTimer(duration, display) {
            var timer = duration, hours, minutes, seconds;
            setInterval(function () {
                hours = parseInt(timer / 3600, 10);
                minutes = parseInt((timer % 3600) / 60, 10);
                seconds = parseInt(timer % 60, 10);
                hours = hours < 10 ? "0" + hours : hours; minutes = minutes < 10 ? "0" + minutes : minutes; seconds = seconds < 10 ? "0" + seconds : seconds;
                display.textContent = hours + ":" + minutes + ":" + seconds;
                if (--timer < 0) timer = duration;
            }, 1000);
        }
        window.onload = function () {
            startTimer(60 * 60 * 4, document.querySelector('#countdown'));
            initChart(); // Initialize chart
        };

        // Chart.js Setup
        let chartInstance = null;
        function initChart() {
            const ctx = document.getElementById('roiChart').getContext('2d');
            let gradient = ctx.createLinearGradient(0, 0, 0, 60);
            gradient.addColorStop(0, 'rgba(74, 222, 128, 0.5)');
            gradient.addColorStop(1, 'rgba(74, 222, 128, 0)');
            chartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        data: [12, 19, 25, 32, 45, 55],
                        borderColor: '#4ade80',
                        backgroundColor: gradient,
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { x: { display: false }, y: { display: false } }
                }
            });
        }
        function updateChart(period) { /* Demo stub */ }

        // Logic for Tabs (keep this helper here or move to app.js, keeping here for simplicity)
        function switchTab(tabName) {
            ['doc', 'wireframes', 'map'].forEach(t => {
                const content = document.getElementById('content-' + t);
                if (content) content.classList.add('hidden');
                const tab = document.getElementById('tab-' + t);
                if (tab) {
                    tab.classList.remove('border-b-2', 'border-indigo-500', 'text-white');
                    tab.classList.add('text-gray-400');
                }
            });
            const activeContent = document.getElementById('content-' + tabName);
            if (activeContent) activeContent.classList.remove('hidden');
            const activeTab = document.getElementById('tab-' + tabName);
            if (activeTab) {
                activeTab.classList.add('border-b-2', 'border-indigo-500', 'text-white');
                activeTab.classList.remove('text-gray-400');
            }
        }

        // Output Tab Switching for Product Output View
        function switchOutputTab(tabName) {
            const tabs = ['vp', 'build', 'evidence'];
            tabs.forEach(t => {
                const content = document.getElementById('output-content-' + t);
                const tab = document.getElementById('output-tab-' + t);
                if (content) {
                    content.classList.add('hidden');
                }
                if (tab) {
                    tab.classList.remove('output-tab-active');
                    tab.classList.add('text-gray-400', 'hover:text-white', 'hover:bg-white/5');
                }
            });
            const activeContent = document.getElementById('output-content-' + tabName);
            const activeTab = document.getElementById('output-tab-' + tabName);
            if (activeContent) {
                activeContent.classList.remove('hidden');
            }
            if (activeTab) {
                activeTab.classList.add('output-tab-active');
                activeTab.classList.remove('text-gray-400', 'hover:text-white', 'hover:bg-white/5');
            }
        }

        // Toggle individual collapsible section
        function toggleSection(sectionId) {
            const section = document.getElementById('section-' + sectionId) || document.getElementById('build-' + sectionId);
            // Fallback for build sections if they use different ID naming
            if (section) {
                section.classList.toggle('collapsed');
            } else {
                // Try legacy selector for build specific
                const legacy = document.getElementById('build-' + sectionId);
                if (legacy) legacy.classList.toggle('collapsed');
            }
        }

        // Alias for backward compatibility
        function toggleBuildSection(sectionId) {
            toggleSection(sectionId);
        }

        // Toggle all collapsible sections
        let allCollapsed = false;
        function toggleAllSections() {
            const sections = document.querySelectorAll('.collapsible-section');
            allCollapsed = !allCollapsed;
            sections.forEach(section => {
                if (allCollapsed) {
                    section.classList.add('collapsed');
                } else {
                    section.classList.remove('collapsed');
                }
            });
        }

        // Export All Output Function
        function exportAllOutput() {
            const data = {
                vpSummary: {
                    northStar: document.getElementById('kpi-northstar')?.innerText || '',
                    conversion: document.getElementById('kpi-conversion')?.innerText || '',
                    execSummary: document.getElementById('exec-summary-content')?.innerText || '',
                    costRange: document.getElementById('cost-range')?.innerText || ''
                },
                exportedAt: new Date().toISOString()
            };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `product-output-${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);
            if (window.ToastModule) {
                window.ToastModule.success('Exported', 'Product output exported to JSON');
            } else if (typeof showToast === 'function') {
                showToast('Exported', 'Product output exported to JSON');
            }
        }

        // ============================================
        // MASTER PROMPT SIMULATION LOGIC
        // ============================================
        function runMasterPromptSimulation() {
            if (!window.SIMULATION_RESULT) {
                console.error("Simulation data not loaded");
                return;
            }

            console.log("Running Gemini 3 Master Prompt Simulation...");
            const data = window.SIMULATION_RESULT;

            // 1. UPDATE VP SUMMARY
            // Hero Metric
            const heroMetric = document.querySelector('.hero-metric');
            if (heroMetric) heroMetric.innerText = data.vp.heroMetric.value;
            // Supporting KPIs (using approximate selectors or IDs if added)
            // For demo, we might need to select by index or add IDs. Assuming IDs exist or adding them:
            const kpiValues = document.querySelectorAll('.kpi-supporting .value');
            if (kpiValues.length >= 4) {
                kpiValues[0].innerText = data.vp.kpis[0].value; // Conversion -> Throughput
                kpiValues[1].innerText = data.vp.kpis[1].value; // Latency -> Gas
                kpiValues[2].innerText = data.vp.kpis[2].value; // NPS -> Latency
                kpiValues[3].innerText = data.vp.kpis[3].value; // Support -> Uptime
            }

            // Labels update for context (since we changed the metric types in simulation)
            const kpiLabels = document.querySelectorAll('.kpi-supporting .label');
            if (kpiLabels.length >= 4) {
                kpiLabels[0].innerText = data.vp.kpis[0].label;
                kpiLabels[1].innerText = data.vp.kpis[1].label;
                kpiLabels[2].innerText = data.vp.kpis[2].label;
                kpiLabels[3].innerText = data.vp.kpis[3].label;
            }

            // Exec Summary
            const execContent = document.getElementById('exec-summary-content');
            if (execContent) execContent.innerHTML = data.vp.execSummary;

            // Risk Matrix
            const riskContainer = document.getElementById('risk-matrix');
            if (riskContainer) {
                riskContainer.innerHTML = data.vp.riskMatrix.map((r, i) => `
                    <div class="flex items-center gap-3 p-3 bg-red-500/5 border border-red-500/10 rounded-xl hover:bg-red-500/10 transition group">
                        <div class="w-8 h-8 flex items-center justify-center bg-red-500/20 rounded-lg text-red-400 text-xs font-bold group-hover:scale-110 transition">${i + 1}</div>
                        <div class="flex-1 min-w-0">
                            <div class="text-xs text-white font-medium">${r.name}</div>
                            <div class="text-[10px] text-gray-400 truncate">${r.desc}</div>
                        </div>
                        <span class="px-2 py-0.5 bg-red-500/20 text-red-400 text-[9px] font-bold rounded-lg">${r.severity}</span>
                    </div>
                `).join('');
            }

            // Cost Model (VP Tab)
            const costRange = document.getElementById('cost-range');
            if (costRange) costRange.innerText = data.vp.cost.range;


            // 2. UPDATE BUILD PACK (Assumptions)
            const assumptionsContainer = document.getElementById('build-assumptions');
            if (assumptionsContainer && data.build.assumptions) {
                assumptionsContainer.innerHTML = data.build.assumptions.map(a => {
                    let colorClass = 'gray';
                    let badgeColor = 'gray';
                    if (a.type === 'assumed') { colorClass = 'yellow'; badgeColor = 'yellow'; }
                    else if (a.type === 'in-scope') { colorClass = 'green'; badgeColor = 'green'; }
                    else { colorClass = 'red'; badgeColor = 'red'; }

                    return `
                    <div class="flex items-center gap-3 p-3 bg-${colorClass}-500/5 border border-${colorClass}-500/10 rounded-lg">
                        <span class="px-2 py-0.5 bg-${badgeColor}-500/20 text-${badgeColor}-400 text-[9px] font-bold rounded uppercase">${a.type.replace('-', ' ')}</span>
                        <div class="flex-1 min-w-0">
                             <div class="text-xs text-white font-medium">${a.label}</div>
                             <div class="text-[10px] text-gray-400 truncate">${a.desc}</div>
                        </div>
                        <span class="ml-auto text-[10px] text-gray-500">Conf: ${a.confidence}</span>
                    </div>`;
                }).join('');
            }

            // 3. TECH SPECS (Build Pack) - if container exists
            // Assuming tech specs container might need ID or just skipping for now as explicit request was satisfied broadly.
            // But let's verify if we have tech specs container.

            // 3. UPDATE BUILD PACK (Screens)
            const screensContainer = document.getElementById('build-screens-container');
            if (screensContainer && data.build.screens) {
                screensContainer.innerHTML = data.build.screens.map((screen, index) => `
                    <div class="p-4 bg-white/5 border border-white/5 rounded-lg group hover:bg-white/10 transition">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-white font-medium text-sm">${screen.title}</h4>
                            <span class="text-[10px] bg-${screen.color || 'indigo'}-500/20 text-${screen.color || 'indigo'}-400 px-2 py-0.5 rounded font-mono">${screen.id}</span>
                        </div>
                        <p class="text-xs text-gray-400 mb-3">${screen.desc}</p>
                        <div class="space-y-1 text-[10px]">
                            <div class="flex justify-between"><span class="text-gray-400">Components:</span><span class="text-gray-300 text-right truncate ml-2">${screen.components}</span></div>
                            <div class="flex justify-between"><span class="text-gray-400">States:</span><span class="text-gray-300 text-right truncate ml-2">${screen.states}</span></div>
                            <div class="flex justify-between"><span class="text-gray-400">Index:</span><span class="text-green-400">${index + 1} / ${data.build.screens.length}</span></div>
                        </div>
                    </div>
                `).join('');
            }

            // 4. UPDATE BUILD PACK (Validation)
            const validationContainer = document.getElementById('build-validation-container');
            if (validationContainer && data.build.validation) {
                // Generate table rows
                const rows = data.build.validation.map(v => `
                    <tr class="hover:bg-white/5 transition border-b border-white/5 last:border-0">
                        <td class="py-2 px-3 text-gray-300">${v.field}</td>
                        <td class="py-2 px-3 text-gray-400 font-mono text-[10px]">${v.rule}</td>
                        <td class="py-2 px-3 text-gray-400 text-[10px]">${v.timing}</td>
                    </tr>
                `).join('');

                // Generate Deep Dives
                let deepDivesHtml = '';
                if (data.build.deepDives) {
                    deepDivesHtml = `
                        <div class="mt-4 space-y-3 pt-3 border-t border-white/5">
                            <h4 class="text-xs font-mono text-gray-400 uppercase tracking-widest mb-2">Error Scenarios</h4>
                            ${data.build.deepDives.map(d => `
                                <div class="p-3 bg-${d.tagColor}-500/5 border border-${d.tagColor}-500/10 rounded-lg">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="px-2 py-0.5 bg-${d.tagColor}-500/30 text-${d.tagColor}-400 text-[9px] font-bold rounded">${d.tag}</span>
                                        <span class="text-[10px] text-gray-400">${d.label}</span>
                                    </div>
                                    <h4 class="text-white font-bold mb-2">${d.title}</h4>
                                    <div class="space-y-2 text-xs">
                                        <div class="flex gap-2"><span class="text-gray-400">Cause:</span><span class="text-gray-300">${d.cause}</span></div>
                                        <div class="flex gap-2"><span class="text-gray-400">Copy:</span><span class="text-yellow-300 font-mono text-[10px] tracking-wide">${d.copy}</span></div>
                                        <div class="flex gap-2"><span class="text-gray-400">Recovery:</span><span class="text-green-400">${d.recovery}</span></div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                     `;
                }

                // Set innerHTML with table structure and deep dives
                validationContainer.innerHTML = `
                <table class="w-full text-xs">
                    <thead>
                        <tr class="text-gray-400 border-b border-white/10">
                            <th class="text-left py-2 px-3 font-mono">Field</th>
                            <th class="text-left py-2 px-3 font-mono">Rule</th>
                            <th class="text-left py-2 px-3 font-mono">Timing</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-white/5">
                        ${rows}
                    </tbody>
                </table>
                ${deepDivesHtml}
                `;
            }

            // 8. UPDATE BUILD PACK (Tech Specs)
            const techSpecsContainer = document.getElementById('build-techspecs-container');
            if (techSpecsContainer && data.build.techSpecs) {
                // Preserve header but replace content
                techSpecsContainer.innerHTML = `
                    <div class="flex items-center gap-2 mb-4">
                        <i class="ph-bold ph-code text-purple-400"></i>
                        <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">Technical Implementation</h3>
                    </div>
                    ${data.build.techSpecs}
                 `;
            }

            // 5. UPDATE EVIDENCE (Decisions)
            const decisionsBody = document.getElementById('evidence-decisions-body');
            if (decisionsBody && data.evidence.decisions) {
                decisionsBody.innerHTML = data.evidence.decisions.map(d => `
                    <tr class="hover:bg-white/5">
                        <td class="py-2 px-3 text-white font-medium">${d.item}</td>
                        <td class="py-2 px-3 text-gray-400">${d.desc}</td>
                        <td class="py-2 px-3 text-gray-400">${d.impact}</td>
                        <td class="py-2 px-3"><span class="px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-[9px] font-bold uppercase">${d.verdict}</span></td>
                    </tr>
                 `).join('');
            }

            // 6. UPDATE EVIDENCE (Research)
            const researchContainer = document.getElementById('evidence-research-container');
            if (researchContainer && data.evidence.research) {
                // Using the string data to create a summary card
                researchContainer.innerHTML = `
                    <div class="p-3 bg-white/5 rounded-lg border border-white/5">
                        <div class="flex items-start gap-3">
                            <div class="w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold text-xs shrink-0"><i class="ph-bold ph-lightbulb"></i></div>
                            <div>
                                <p class="text-[10px] text-gray-400 uppercase tracking-wider mb-1">Market Analysis</p>
                                <p class="text-xs text-white leading-relaxed">${data.evidence.research}</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            // 7. UPDATE EVIDENCE (ROI)
            const roiContainer = document.getElementById('evidence-roi-container');
            if (roiContainer && data.evidence.roi) {
                roiContainer.innerHTML = `
                    <div class="flex flex-col justify-between h-full space-y-4">
                        <div>
                            <div class="flex items-baseline gap-2 mb-1">
                                <span class="text-3xl font-bold text-white">${data.evidence.roi.uplift}</span>
                                <span class="text-green-400 text-xs">Efficiency Uplift</span>
                            </div>
                            <p class="text-xs text-gray-400">Projected Break-even: <span class="text-white">${data.evidence.roi.breakEven}</span></p>
                            <p class="text-xs text-gray-400">Total Revenue: <span class="text-green-300 font-mono">${data.evidence.roi.revenue}</span></p>
                        </div>
                        <div class="w-full bg-white/10 rounded-full h-2 mb-4">
                            <div class="bg-gradient-to-r from-green-500 to-emerald-400 h-2 rounded-full" style="width: 85%"></div>
                        </div>
                        <div class="grid grid-cols-2 gap-2">
                             <div class="text-center p-2 bg-white/5 rounded border border-white/5">
                                 <div class="text-[9px] text-gray-400 uppercase">Est. Cost</div>
                                 <div class="text-xs font-bold text-white font-mono">${data.evidence.roi.cost}</div>
                             </div>
                             <div class="text-center p-2 bg-green-500/10 rounded border border-green-500/20">
                                 <div class="text-[9px] text-gray-400 uppercase">Est. Rev</div>
                                 <div class="text-xs font-bold text-green-400 font-mono">${data.evidence.roi.revenue}</div>
                             </div>
                        </div>
                    </div>
                `;
            }

            if (window.ToastModule) {
                window.ToastModule.success('Gemini 3 Finished', 'Master Prompt simulation complete. Full report generated.');
            }
        }

        // Auto-run simulation on load specific for this demo
        window.addEventListener('load', () => {
            // Delay to allow modules to load
            setTimeout(() => {
                if (typeof runMasterPromptSimulation === 'function') {
                    runMasterPromptSimulation();
                }
                // Switch to output tab to show result
                if (typeof switchView === 'function') {
                    switchView('output');
                }
                if (typeof switchOutputTab === 'function') {
                    switchOutputTab('vp');
                }
            }, 1500);
        });

        function copyFigmaCode() {
            const code = document.getElementById('figma-code').innerText;
            navigator.clipboard.writeText(code);
            showToast('Copied', 'Figma prompt copied to clipboard.');
        }
        function exportPDF() { showToast("Exporting...", "Generating PDF Report v8.0"); }
    </script>
</body>

</html>